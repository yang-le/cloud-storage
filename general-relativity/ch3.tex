\chapter{黎曼（内禀）曲率张量}

\section{导数算符}

欧氏空间有熟知的导数算符$\vec{\nabla}$，它作用于函数（标量场）$f$得矢量场$\vec{\nabla}f$（梯度），作用于矢量场$\vec{v}$（再求缩并）得标量场$\vec{\nabla}\cdot\vec{v}$（散度）等。
由于存在欧氏度规$\delta_{ab}$，欧氏空间的矢量$v^a$与对偶矢量$v_a = \delta_{ab}v^b$自然认同。
现在要把$\vec{\nabla}$推广到任意流形，其上可以没有度规，所以要分清矢量和对偶矢量。
研究发现在推广时$\vec{\nabla}$更像对偶矢量，故应记作$\nabla_a$。
其实$\nabla$本身是算符，既非矢量也非对偶矢量，所谓把$\nabla$看作对偶矢量是指它作用于函数$f$的结果$\nabla_af$是对偶矢量。
推而广之，$\nabla$作用于任一$(k, l)$型张量场的结果是$(k, l + 1)$型张量场。
于是有如下定义：

\begin{definition}
以$\mathscr{F}_M(k, l)$代表流形$M$上全体$C^\infty$的$(k, l)$型张量场的集合（函数$f$可看作$(0, 0)$型张量场（标量场），故$\mathscr{F}_M(0, 0) \equiv \mathscr{F}_M$）。
映射$\nabla \colon \mathscr{F}_M(k, l) \to \mathscr{F}_M(k, l + 1)$称为$M$上的\textbf{（无挠）导数算符}\footnote{
$\mathscr{F}(k, l)$可放宽为全体$C^1$类$(k, l)$型张量场的集合。就是说，$\nabla_a$可作用于任一$C^1$类张量场。
}，若它满足如下条件：
\begin{enumerate}[（a）]
\item 具有线性性：
$$\begin{aligned}
& \nabla_a(\alpha T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} + \beta S^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}) = \alpha\nabla_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} + \beta\nabla_aS^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \\
& \forall T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}, S^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \in \mathscr{F}_M(k, l), ~ \alpha, \beta \in \mathbb{R}
\end{aligned}$$
\item 满足莱布尼茨律：
$$\begin{aligned}
& \nabla_a(T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}}) = T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \nabla_a S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}} + S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}} \nabla_a T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \\
& \forall T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \in \mathscr{F}_M(k, l), ~ S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}} \in \mathscr{F}_M(k', l')
\end{aligned}$$
\item 与缩并可交换顺序
\item $v(f) = v^a\nabla_af, ~ \forall f \in \mathscr{F}_M, v \in \mathscr{F}_M(1, 0)$
\item 具有无挠性：$\nabla_a\nabla_bf = \nabla_b\nabla_af, ~ \forall f \in \mathscr{F}_M$
\end{enumerate}
\end{definition}

\begin{note}
\begin{enumerate}[（1）]
\item 条件（c）又可表为$\nabla \comp C = C \comp \nabla$，其中$C$代表缩并。今后将常写
$$\nabla_a(v^b\omega_b) = v^b\nabla_a\omega_b + \omega_b\nabla_av^b$$
一类的式子，这就要用到条件（c），因为上式的导出过程为
$$\begin{aligned}
\nabla_a(v^b\omega_b) & = \nabla_a[C(v^b\omega_c)] = C^1_2[\nabla_a(v^b\omega_c)] \\
& = C^1_2(v^b\nabla_a\omega_c) + C^1_2[(\nabla_av^b)\omega_c] = v^b\nabla_a\omega_b + \omega_b\nabla_av^b
\end{aligned}$$
\item 条件（d）左边的函数$v(f)$不宜记作$v^a(f)$，因$v^a(f)$易被误以为矢量场。
这是应写而不写抽象指标的少数例子之一。对条件（d）可用欧氏空间的$\vec{\nabla}$为例理解。
设$v^a$为欧氏空间中任一矢量场，其在笛卡尔系坐标基底的展开式为
$$v^a = v^1(\partial / \partial x)^a + v^2(\partial / \partial y)^a + v^3(\partial / \partial z)^a$$
则它对函数$f$的作用可表为
$$v(f) = v^1(\partial f / \partial x)^a + v^2(\partial f / \partial y)^a + v^3(\partial f / \partial z)^a = \vec{v}\cdot\vec{\nabla}f = v^a\nabla_af$$
可见条件（d）是这一性质对任意流形的推广。
\item 设$\nabla_a$是任一导数算符，则由条件（d）易证
$$\nabla_af = (\mathrm{d}f)_a, ~ \forall f \in \mathscr{F}_M$$
其中，$(\mathrm{d}f)_a$是函数$f$生成的对偶矢量场$\mathrm{d}f$的抽象指标表示。
\item 条件（e）实质上是下式的抽象指标表述：
$$(\nabla\nabla f)(u, v) = (\nabla\nabla f)(v, u), ~ \forall u, v \in \mathscr{F}_M(1, 0)$$
亦即$\nabla\nabla f$是个对称的$(0, 2)$型张量。
\item 满足条件（a）~（d）而不满足条件（e）的导数算符叫\textbf{有挠导数算符}。广义相对论中只用无挠导数算符。
本书的$\nabla_a$在不加声明时一律代表无挠导数算符。
\end{enumerate}
\end{note}

任何流形必定存在满足上述定义的导数算符。事实上，导数算符不但存在，而且很多。下面讨论多到什么程度。
由$\nabla_af = (\mathrm{d}f)_a$可知任意两个导数算符$\nabla_a$和$\tilde\nabla_a$作用于同一函数的结果相同，即
$$\nabla_af = \tilde\nabla_af = (\mathrm{d}f)_a, ~ \forall f \in \mathscr{F}_M$$
可见$\nabla_a$与$\tilde\nabla_a$的不同只能体现在对非$(0, 0)$型张量场的作用上。先讨论$(0, 1)$型张量场（对偶矢量场）。
设在点$p \in M$给定一个对偶矢量$\mu_b \in V_p^*$，考虑$M$上的任意两个对偶矢量场$\omega_b, \omega'_b \in \mathscr{F}_M(0, 1)$，满足$\omega'_b|_p = \omega_b|_p = \mu_b$（$\omega_b$和$\omega'_b$称为$\mu_b$在$M$上的两个延拓）。
设$\nabla_a$为导数算符，则$\nabla_a\omega'_b|_p$与$\nabla_a\omega_b|_p$一般并不相同。这类似于以下事实：
两个一元函数$f(x)$和$f'(x)$在$x_0$点取值相同（$f'(x_0) = f(x_0)$）并不保证$(\mathrm{d}f' /\mathrm{d}x)|_{x_0} = (\mathrm{d}f /\mathrm{d}x)|_{x_0}$。
然而下面要证明，对$M$上任意两个导数算符$\nabla_a$和$\tilde\nabla_a$，只要$\omega'_b|_p = \omega_b|_p$就有
$$[(\tilde\nabla_a - \nabla_a)\omega'_b]_p = [(\tilde\nabla_a - \nabla_a)\omega_b]_p$$
其中$(\tilde\nabla_a - \nabla_a)\omega_b$是$\tilde\nabla_a\omega_b - \nabla_a\omega_b$的简写。

\begin{theorem}
设$p \in M, ~ \omega_b, \omega'_b \in \mathscr{F}(0, 1)$满足$\omega'_b|_p = \omega_b|_p$，则
$$[(\tilde\nabla_a - \nabla_a)\omega'_b]_p = [(\tilde\nabla_a - \nabla_a)\omega_b]_p$$
\end{theorem}

\begin{proof}
只须证明
$$[\nabla_a(\omega'_b - \omega_b)]_p = [\tilde\nabla_a(\omega'_b - \omega_b)]_p$$
设$\Omega_b \equiv \omega'_b - \omega_b$，选坐标系$\{x^\mu\}$使其坐标域含$p$，则$\omega'_b|_p = \omega_b|_p$导致$\Omega_\mu(p) = 0$，其中$\Omega_\mu$是$\Omega_b$的坐标分量。
于是对$p$点有
$$\begin{aligned}[]
[\nabla_a(\omega'_b - \omega_b)]_p & = [\nabla_a\Omega_b]_p = \{\nabla_a[\Omega_\mu(\mathrm{d}x^\mu)_b]\}|_p \\
& = \Omega_\mu(p)[\nabla_a(\mathrm{d}x^\mu)_b]_p + [(\mathrm{d}x^\mu)_b\nabla_a\Omega_\mu]_p = [(\mathrm{d}x^\mu)_b\nabla_a\Omega_\mu]_p
\end{aligned}$$
同理有$[\tilde\nabla_a(\omega'_b - \omega_b)]_p = [(\mathrm{d}x^\mu)_b\tilde\nabla_a\Omega_\mu]_p$。又$[\nabla_a\Omega_\mu]_p = [\tilde\nabla_a\Omega_\mu]_p$，得证。
\end{proof}

虽然导数$[\nabla_a\omega_b]_p$和$[\tilde\nabla_a\omega_b]_p$依赖于$\omega_b$在$p$点的一个邻域内的值，然而上述定理表明$[(\tilde\nabla_a - \nabla_a)\omega_b]_p$只依赖于$\omega_b$在$p$点的值，这说明$(\tilde\nabla_a - \nabla_a)$是把$p$点的对偶矢量$\omega_b|_p$变为$p$点的$(0, 2)$型张量（$[(\tilde\nabla_a - \nabla_a)\omega_b]_p$）的线性映射
（给定$p$点的任一对偶矢量$\mu_b$，任选对偶矢量场$\omega_b$使它在$p$点的值$\omega_b|_p = \mu_b$，则$[(\tilde\nabla_a - \nabla_a)\omega_b]_p$便是$\mu_b$在该映射下的像。）。
所以$(\tilde\nabla_a - \nabla_a)$在$p$点对应于一个$(1, 2)$型张量$C^c{}_{ab}$，满足
$$[(\tilde\nabla_a - \nabla_a)\omega_b]_p = C^c{}_{ab}\omega_c|_p$$

因为$p$点可任选，所以$M$上的两个导数算符$\nabla_a$和$\tilde\nabla_a$在对$\omega_b$的作用上的差别体现为$M$上的一个$(1, 2)$型张量场$C^c{}_{ab}$，即
\begin{theorem}
$\nabla_a\omega_b = \tilde\nabla_a\omega_b - C^c{}_{ab}\omega_c, ~ \forall \omega_b \in \mathscr{F}(0, 1)$
\end{theorem}

$\nabla_a$的无挠性导致张量场$C^c{}_{ab}$的如下对称性：
\begin{theorem}
$C^c{}_{ab} = C^c{}_{ba}$
\end{theorem}

\begin{proof}
令$\omega_b = \nabla_bf = \tilde\nabla_bf$，其中$f \in \mathscr{F}_M$，则上式给出$\nabla_a\nabla_bf = \tilde\nabla_a\tilde\nabla_bf - C^c{}_{ab}\nabla_cf$。
交换指标$a$，$b$得$\nabla_b\nabla_af = \tilde\nabla_b\tilde\nabla_af - C^c{}_{ba}\nabla_cf$。
两式相减，注意到无挠性条件，便有$C^c{}_{ab}\nabla_cf = C^c{}_{ba}\nabla_cf$。
令$T^c{}_{ab} \equiv C^c{}_{ab} - C^c{}_{ba}$，则对所有的$f \in \mathscr{F}_M$有$T^c{}_{ab}\nabla_cf = 0$，于是$T^c{}_{ab}$在任一坐标基底的分量$T^\sigma{}_{\mu\nu} = T^c{}_{ab}(\mathrm{d}x^\sigma)_c(\partial / \partial x^\mu)_a(\partial / \partial x^\nu)_b = 0$（其中第二步是因为$T^c{}_{ab}(\mathrm{d}x^\sigma)_c = T^c{}_{ab}\nabla_cx^\sigma = 0$（把$x^\sigma$看作$f$）），因而$T^c{}_{ab} = 0$。
\end{proof}

\begin{theorem}
$\nabla_av^b = \tilde\nabla_av^b + C^b{}_{ac}v^c, ~ \forall v^b \in \mathscr{F}_M(1, 0)$
\end{theorem}

\begin{proof}
设$\omega_b$为$M$上任一对偶矢量场，则
$$\nabla_a(\omega_bv^b) = \omega_b\nabla_av^b + v^b\nabla_a\omega_b = \omega_b\nabla_av^b + v^b(\tilde\nabla_a\omega_b - C^c{}_{ab}\omega_c)$$
另一方面，$\tilde\nabla_a(\omega_bv^b) = \omega_b\tilde\nabla_av^b + v^b\tilde\nabla_a\omega_b$。
而$\omega_bv^b$为标量场，故$\nabla_a(\omega_bv^b) = \tilde\nabla_a(\omega_bv^b)$，故以上两式右边相等，因而得
$$\omega_b\nabla_av^b = \omega_b\tilde\nabla_av^b + C^c{}_{ab}v^b\omega_c = \omega_b\tilde\nabla_av^b + C^b{}_{ac}v^c\omega_b, ~ \forall \omega_b \in \mathscr{F}_M(0, 1)$$
于是有定理结论。
\end{proof}

用类似方法可以证明$\nabla_a$与$\tilde\nabla_a$作用于任一$(k, l)$型张量场$T^{a_1 \cdots a_k}{}_{b_1 \cdots b_l}$所得结果之差$\nabla_aT^{a_1 \cdots a_k}{}_{b_1 \cdots b_l} - \tilde\nabla_aT^{a_1 \cdots a_k}{}_{b_1 \cdots b_l}$可表为$k + l$项，每项都含$C^c{}_{ab}$，与$T$的某一上指标缩并的$k$项前面为$+$号，与$T$的某一下指标缩并的$l$项前面为$-$号，例如
$$\nabla_aT^b{}_{c} = \tilde\nabla_aT^b{}_{c} + C^b{}_{ad}T^d{}_{c} - C^d{}_{ac}T^b{}_{d}$$
一般形式见下面的定理：
\begin{theorem}
$$\nabla_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} = \tilde\nabla_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} + \sum_iC^{b_i}{}_{ad}T^{b_1 \cdots d \cdots b_k}{}_{c_1 \cdots c_l} - \sum_jC^d{}_{ac_j}T^{b_1 \cdots b_k}{}_{c_1 \cdots d \cdots c_l}, ~ \forall T \in \mathscr{F}_M(k, l)$$
\end{theorem}

上述定理表明任意两个导数算符的差别仅体现在一个张量场$C^c{}_{ab}$上。
反之也不难验证，任给一个导数算符$\tilde\nabla_a$和一个下标对称的光滑张量场$C^c{}_{ab}$，由上式定义的$\nabla_a$必满足导数算符的全部条件，因而也是一个导数算符。
可见流形上只要有一个导数算符就会有许多导数算符。
选定导数算符$\nabla_a$后的流形$M$可记作$(M, \nabla_a)$，它比$M$本身有更多结构（$\nabla_a$提供附加结构），例如可谈及矢量沿曲线的平移及$(M, \nabla_a)$的曲率。

设$\{x^\mu\}$是$M$的一个坐标系，其坐标基底和对偶坐标基底分别为$\{(\partial / \partial x^\mu)^a\}$和$\{(\mathrm{d}x^\mu)_a\}$。
在坐标域$O$上定义映射$\partial_a \colon \mathscr{F}_O(k, l) \to \mathscr{F}_O(k, l + 1)$如下（仅以$T^b{}_c \in \mathscr{F}_O(1, 1)$为例写出）：
$$\partial_aT^b{}_c \coloneq (\mathrm{d}x^\mu)_a(\partial / \partial x^\nu)^b(\mathrm{d}x^\sigma)_c\partial_\mu T^\nu{}_\sigma$$
其中$T^\nu{}_\sigma$是$T^b{}_c$在该坐标系的分量，$\partial_\mu$是对坐标$x^\mu$求偏导数的符号$\partial / \partial x^\mu$的简写。
不难验证$\partial_a$满足导数算符定义的$5$个条件，可见$\partial_a$是$O$上的一个导数算符。
这是一个从定义起就依赖于坐标系的导数算符，而且只在该坐标系的坐标域上有定义，称为该坐标系的\textbf{普通导数算符}。
上式表明$\partial_\mu T^\nu{}_\sigma$是张量场$\partial_aT^b{}_c$在该坐标系的分量，所以$\partial_a$的定义亦可表为：
张量场$T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}$的普通导数$\partial_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}$的坐标分量等于该张量场的坐标分量对坐标的偏导数$\partial(T^{\nu_1 \cdots \nu_k}{}_{\sigma_1 \cdots \sigma_l}) / \partial x^\mu$。
由此易见：

\begin{enumerate}[（1）]
\item 任一坐标系的$\partial_a$作用于该系的任一坐标基矢和任一对偶坐标基矢结果为零\footnote{
例如，第$\nu$坐标基矢$(\partial / \partial x^\nu)$的第$\sigma$坐标分量为$(\partial / \partial x^\nu)^\sigma \equiv (\partial / \partial x^\nu)^b(\mathrm{d}x^\sigma)_b = \delta^\sigma{}_\nu$，故其偏导数为零。
}，即
$$\partial_a(\partial / \partial x^\nu)^b = 0, ~ \partial_a(\mathrm{d}x^\nu)_b = 0$$
\item $\partial_a$满足比导数算符的无挠性条件强得多的条件，即
$$\partial_a\partial_bT^{\cdots}{}_{\cdots} = \partial_b\partial_aT^{\cdots}{}_{\cdots}, ~ \text{或} \partial_{[a}\partial_{b]}T^{\cdots}{}_{\cdots} = 0$$
其中$T^{\cdots}{}_{\cdots}$是任意型张量场。\footnote{
任意型张量场的坐标分量都是标量场（即$n$元函数），故求偏导数的结果与求导顺序无关。
}
\end{enumerate}

$\partial_a$虽可看作$\nabla_a$的特例，但其定义依赖于坐标系。
我们把与坐标系（或其他人为因素）无关的那些$\nabla_a$称为\textbf{协变导数算符}，$\partial_a$不在此列。

\begin{definition}
设$\partial_a$是$(M, \nabla_a)$上任给的坐标系的普通导数算符，则体现$\nabla_a$与$\partial_a$的差别的张量场$C^c{}_{ab}$（把$\partial_a$看作$\tilde\nabla_a$）称为$\nabla_a$在该坐标系的\textbf{克氏符}（Christoffel symbol），记作$\Gamma^c{}_{ab}$。
\end{definition}

\begin{note}
一般书强调克氏符不是张量，本书却说它是张量。这没有实质性矛盾，只是克氏符的定义有微妙的不同。
不用抽象指标的书把克氏符定义为与坐标系有关的一堆数，在坐标变换下不服从张量变换律，故不构成张量。
我们一开始就用映射语言把克氏符$\Gamma^c{}_{ab}$定义为张量，但因它与$\partial_a$相应，而$\partial_a$依赖于坐标系，故克氏符是依赖于坐标系的张量（坐标系改变时张量\CJKunderdot{本身}要变）。
设$\nabla_a$是$M$上指定的导数算符，$\{x^\mu\}$和$\{x'^\mu\}$是$M$上的两个坐标系，坐标域之交为$U$，$\nabla_a$在两系中的克氏符分别为$\Gamma^c{}_{ab}$和$\bar\Gamma^c{}_{ab}$，
它们（在$U$中）既可用$\{x^\mu\}$系也可用$\{x'^\mu\}$系求分量，设$\Gamma^c{}_{ab}$在$\{x^\mu\}$和$\{x'^\mu\}$系的分量为$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\Gamma'^\sigma{}_{\mu\nu}\}$（这两堆数当然满足张量变换律），
$\bar\Gamma^c{}_{ab}$在$\{x^\mu\}$和$\{x'^\mu\}$系的分量为$\{\bar\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$（也满足张量变换律），但$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$不满足张量变换律。
而一般书恰恰是把$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$分别定义为$\{x^\mu\}$系和$\{x'^\mu\}$系的克氏符，自然不构成张量。
一般书强调``克氏符不是张量''是对的，本书则应强调``克氏符是\CJKunderdot{坐标系依赖}的张量''。
只要采用抽象指标并按照上述思路讨论（包括使用``张量面面观''的优雅论辩），自然要承认反映两个导数算符$\nabla_a$与$\tilde\nabla_a$之差的$C^c{}_{ab}$是张量。
在$M$指定了一个导数算符$\nabla_a$的前提下，选定坐标系就有导数算符$\partial_a$，把$\partial_a$看作$\tilde\nabla_a$，则反映$\nabla_a$与$\partial_a$之差的$C^c{}_{ab}$（此时记作$\Gamma^c{}_{ab}$）当然是张量。
然而与此同时应该强调$\Gamma^c{}_{ab}$是坐标系依赖的张量（有多少个坐标系就有多少个不同的$\partial_a$，因而有多少个不同的$\Gamma^c{}_{ab}$。）。
这种强调的实质就是在强调一般书所强调的``克氏符不是张量''。两种强调只是同一问题的两种提法。重要的不在于提法而在于充分注意问题的实质，即切记两组分量$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$之间不遵守张量变换律。
\end{note}

类似地，设$v^b$是矢量场，则$\partial_av^b$也是坐标系依赖的张量场，把$\partial_av^b$在$\partial_a$所在坐标系展开：
$$\partial_av^b = (\mathrm{d}x^\mu)_a(\partial / \partial x^\nu)^bv^\nu{}_{,\mu}$$
其中$v^\nu{}_{,\mu} \equiv \partial_\mu v^\nu \equiv \partial v^\nu / \partial x^\mu$（逗号代表求偏导数），一般书强调$v^\nu{}_{,\mu}$不构成张量，我们说$\partial_av^b$是坐标系依赖的张量，也是同一问题的两种提法。
说得更具体些，设$\partial_a$和$\partial'_a$分别是坐标系$\{x^\mu\}$和$\{x'_\mu\}$的普通导数算符，则一般有$\partial_av^b \neq \partial'_av^b$（所以说$\partial_av^b$是坐标系依赖的张量）。
把$\partial_av^b$和$\partial'_av^b$在各自坐标基底展开：
$$\partial_av^b = (\mathrm{d}x^\mu)_a(\partial / \partial x^\nu)^bv^\nu{}_{,\mu}， ~ \partial'_av^b = (\mathrm{d}x'^\mu)_a(\partial / \partial x'^\nu)^bv'^\nu{}_{,\mu}$$
其中$v'^\nu{}_{,\mu} \equiv \partial v'^\nu / \partial x'^\mu$，则$\partial_av^b \neq \partial'_av^b$导致$v^\nu{}_{,\mu}$与$v'^\nu{}_{,\mu}$之间一般不满足张量分量变换律。
所以一般书说$v^\nu{}_{,\mu}$不是张量。至于$\nabla_av^b$，则是与坐标系无关的张量，它在坐标系中的分量通常记为$v^\nu{}_{;\mu}$，即$\nabla_av^b = v^\nu{}_{;\mu}(\mathrm{d}x^\mu)_a(\partial / \partial x^\nu)^b$。
由于$\nabla_av^b$与坐标系无关，$v^\nu{}_{;\mu}$满足张量变换律，故一般书说它是张量（其实是张量的分量），并称之为$v^\nu$的\textbf{协变导数}（其实是协变导数$\nabla_av^b$的坐标分量）。
类似地，$\nabla_a\omega_b$的坐标分量$\omega_{\nu;\mu}$也被称为$\omega_\nu$的协变导数。

\begin{theorem}
$v^\nu{}_{;\mu} = v^\nu{}_{,\mu} + \Gamma^\nu{}_{\mu\sigma}v^\sigma, ~ \omega_{\nu;\mu} = \omega_{\nu,\mu} - \Gamma^\sigma{}_{\mu\nu}\omega_\sigma$

其中$v^\nu$及$\omega_\nu$为任意矢量场和对偶矢量场在任一坐标基底的分量，$\Gamma^\nu{}_{\mu\sigma}$是该系的克氏符$\Gamma^b{}_{ac}$在该基底的分量（一般书的说法是``$\Gamma^\nu{}_{\mu\sigma}$是该系的克氏符''，本书后面为简单起见也常用这一说法。）。
\end{theorem}

\begin{theorem}
导数算符定义中与缩并可交换顺序的条件等价于
$$\nabla_a\delta^b{}_c = 0$$
其中$\delta^b{}_c$看作$(1, 1)$型张量场，其在每点$p \in M$的定义为$\delta^b{}_cv^c = v^b, ~ \forall v^c \in V_p$。
\end{theorem}

流形$M$上矢量场对易子$[u, v]^a$的定义无需$M$有附加结构，但该式的不方便之处在于它不能脱离被作用对象（标量场$f$）。
现在，在有了导数算符的概念之后，就可借助于随便一个导数算符$\nabla_a$写出矢量场对易子$[u, v]^a$的显表达式，见如下定理：
\begin{theorem}
$[u, v]^a = u^b\nabla_bv^a - v^b\nabla_bu^a$

其中$\nabla_b$是\CJKunderdot{任一}无挠导数算符。
\end{theorem}

\begin{proof}
对所有$f \in \mathscr{F}$有
$$\begin{aligned}[]
[u, v](f) & = u(v(f)) - v(u(f)) = u^b\nabla_b(v^a\nabla_af) - v^b\nabla_b(u^a\nabla_af) \\
& = u^b(\nabla_bv^a)\nabla_af + u^bv^a\nabla_b\nabla_af - v^b(\nabla_bu^a)\nabla_af - v^bu^a\nabla_b\nabla_af \\
& = (u^b\nabla_bv^a - v^b\nabla_bu^a)\nabla_af
\end{aligned}$$
而$[u, v](f) = [u, v]^a\nabla_af$，证毕。
\end{proof}

\begin{note}
取任一坐标系$\{x^\mu\}$的普通导数算符$\partial_b$作为上式的$\nabla_b$，便有
$$[u, v]^\mu = (\mathrm{d}x^\mu)_a[u, v]^a = u^\nu\partial_\nu v^\mu - v^\nu\partial_\nu u^\mu$$
\end{note}

\section{矢量场沿曲线的导数和平移}

\subsection{矢量场沿曲线的平移}
在流形$M$上选定一个导数算符$\nabla_a$后，就有矢量沿曲线平移的概念。

\begin{definition}
设$v^a$是沿曲线$C(t)$的矢量场。
$v^a$称为\textbf{沿$C(t)$平移}的，若$T^b\nabla_bv^a = 0$，其中$T^a \equiv (\partial / \partial t)^a$是曲线的切矢。
\end{definition}

正如$T^a\nabla_af = T(f)$可解释为函数$f$沿$T^a$（即沿$C(t)$）的导数那样，$T^b\nabla_av^b$可解释为矢量场$v^a$沿$T^b$的导数。
于是上述定义也可解释为：$v^a$沿$C(t)$平移的充要条件是它沿$T^b$的导数为零。

\begin{theorem}
设曲线$C(t)$位于坐标系$\{x^\mu\}$的坐标域内，曲线的参数式为$x^\mu(t)$。
令$T^a \equiv (\partial / \partial t)^a$，则沿$C(t)$的矢量场$v^a$满足
$$T^b\nabla_bv^a = (\partial / \partial x^\mu)^a(\mathrm{d}v^\mu / \mathrm{d}t + \Gamma^\mu{}_{\nu\sigma}T^\nu v^\sigma)$$
\end{theorem}

\begin{proof}
以$\partial_a$代表坐标系$\{x^\mu\}$的普通导数算符，则
$$\begin{aligned}
T^b\nabla_bv^a & = T^b(\partial_bv^a + \Gamma^a{}_{bc}v^c) = T^b[(\mathrm{d}x^\nu)_b(\partial / \partial x^\mu)^a\partial_\nu v^\mu + \Gamma^a{}_{bc}v^c] \\
& = T^\nu(\partial / \partial x^\mu)^a(\partial v^\mu / \partial x^\nu) + \Gamma^a{}_{bc}T^bv^c = (\partial / \partial x^\mu)^a[T^\nu(\partial v^\mu / \partial x^\nu) + \Gamma^\mu{}_{\nu\sigma}T^\nu v^\sigma]
\end{aligned}$$
其中$T^\nu$是曲线切矢$T^b$的坐标分量。又$T^\nu = \mathrm{d}x^\nu(t) / \mathrm{d}t$，故
$$T^\nu(\partial v^\mu / \partial x^\nu) = [\mathrm{d}x^\nu(t) / \mathrm{d}t][\partial v^\mu(t(x)) / \partial x^\nu] = \mathrm{d}v^\nu(t) / \mathrm{d}t$$
证毕。
\end{proof}

\begin{theorem}
曲线上一点$C(t_0)$及该点的一个矢量决定唯一的沿曲线平移的矢量场。
\end{theorem}

\begin{proof}
若存在把整条曲线含于其坐标域内的坐标系，则由前述定理可知平移定义$T^b\nabla_bv^a = 0$等价于
$$\mathrm{d}v^\nu / \mathrm{d}t + \Gamma^\mu{}_{\nu\sigma}T^\nu v^\sigma = 0, ~ \mu = 1, \cdots, n$$
这是关于$n$个待求函数$v^\mu(t)$的$n$个一阶常微分方程（注意$\Gamma^\mu{}_{\nu\sigma}$及$T^\nu$均为$t$的已知函数），而给定$C(t_0)$点的一个矢量就是给定初始条件$v^\nu(t_0)$，故有唯一解$v^\nu(t)$。
使用``接力法''不难把上述证明推广至曲线不能被一个坐标域覆盖的情况。
\end{proof}

设$p, q \in M$，则$V_p$和$V_q$是两个矢量空间，两者的元素无法比较。
但若有一曲线$C(t)$联接$p, q$，就可用下法定义一个由$V_p$到$V_q$的映射：
对所有的$v^a \in V_p$，由上述定理知在$C(t)$上有唯一的平移矢量场（其在$p$点的值为$v^a$），它在$q$点的值就定义为$v^a$的像。
注意，这是一个曲线依赖的映射，另选一条联接$p, q$的曲线，$v^a$的像可能不同。
然而，无论如何，$\nabla_a$的存在毕竟使原来毫无联系的$V_p$与$V_q$发生了某种联系（虽然曲线依赖），因此也把$\nabla_a$叫做\textbf{联络}。

为什么说$\nabla_a$是$3$维欧氏空间中熟知的$\vec{\nabla}$在一般流形上的某种推广？
为什么把$T^b\nabla_bv^a$解释为$v^a$沿$T^b$的导数？
为什么把满足$T^b\nabla_bv^a = 0$的$v^a$称为沿曲线平移的矢量场？
下面我们就来回答这些问题。

\subsection{与度规相适配的导数算符}
从本章开始至今未涉及度规，只假定$M$上选了一个联络$\nabla_a$。
如果$M$上还指定了度规$g_ab$，矢量之间就可以谈及内积。
为使平移概念与欧氏空间中熟知的平移一致，应补充以下要求：
设$u^a$，$v^a$为沿$C(t)$平移的矢量场，则$u^av_a$（$\equiv g_{ab}u^av^b$）在$C(t)$上是常数（两个矢量平移时``内积''不变）。
设$T^a$为曲线$C(t)$的切矢，则这一要求等价于
$$0 = T^c\nabla_c(g_{ab}u^av^b) = g_{ab}u^aT^c\nabla_cv^b + g_{ab}v^bT^c\nabla_cu^a + u^av^bT^c\nabla_cg_{ab} = u^av^bT^c\nabla_cg_{ab}$$
上式对所有曲线以及沿它平移的任意两个矢量场$u^a$，$v^a$成立的充要条件为
$$\nabla_cg_{ab} = 0$$
没有度规时，$\nabla_c$的选择非常任意。指定度规后，选$\nabla_c$时就宜满足附加要求$\nabla_cg_{ab} = 0$。
下面证明这一要求决定了唯一的$\nabla_a$。

\begin{theorem}
流形$M$上选定度规场$g_{ab}$后，存在唯一的$\nabla_a$使$\nabla_ag_{bc} = 0$。
\end{theorem}

\begin{proof}
设$\tilde\nabla_a$为任一导数算符，欲求适当的$C^c{}_{ab}$使它与$\tilde\nabla_a$决定的$\nabla_a$满足$\nabla_ag_{bc} = 0$。
已知$$\nabla_ag_{bc} = \tilde\nabla_ag_{bc} - C^d{}_{ab}g_{dc} - C^d{}_{ac}g_{bd} = \tilde\nabla_ag_{bc} - C_{cab} - C_{bac}$$
故由$\nabla_ag_{bc} = 0$得$$C_{cab} + C_{bac} = \tilde\nabla_ag_{bc}$$
同理有\begin{gather*}
C_{cba} + C_{abc} = \tilde\nabla_bg_{ac} \\
C_{bca} + C_{acb} = \tilde\nabla_cg_{ab}
\end{gather*}
前两式相加减第三式并利用$C_{cab} = C_{cba}$，得
$$2C_{cab} = \tilde\nabla_ag_{bc} + \tilde\nabla_bg_{ac} - \tilde\nabla_cg_{ab}$$
或
$$C^c_{ab} = \frac{1}{2}g^{cd}(\tilde\nabla_ag_{bd} + \tilde\nabla_bg_{ad} - \tilde\nabla_dg_{ab})$$
这$C^c_{ab}$与$\tilde\nabla_a$结合而得的$\nabla_a$便是方程$\nabla_ag_{bc} = 0$的解。
这必定是唯一解，因若$\nabla'_a$也满足$\nabla'_ag_{bc} = 0$，把$\nabla'_a$作为上式中的$\tilde\nabla_a$便知反映$\nabla_a$与$\nabla'_a$差别的$C^c{}_{ab}$为零。
\end{proof}

满足$\nabla_ag_{bc} = 0$的$\nabla_a$称为\textbf{与$g_{ab}$适配（或相容）的导数算符}。
今后如无声明，在有$g_{ab}$时谈到$\nabla_a$都是指与$g_{ab}$适配的导数算符。
可以证明，$\nabla_ag_{bc} = 0$保证$\nabla_ag^{bc} = 0$（反之亦然）。这为计算带来很大方便。

\begin{example}
欧氏空间存在无数满足定义的导数算符，但与欧式度规$\delta_{ab}$相适配的导数算符只有一个，这就是笛卡尔坐标系$\{x^\mu\}$的普通导数算符$\partial_a$（所有笛卡尔系的$\partial_a$都相同）,因为由$\delta_{ab}$的定义式得$\partial_c\delta_{ab} = (\mathrm{d}x^\sigma)_c(\mathrm{d}x^\mu)_a(\mathrm{d}x^\nu)_b\partial_\sigma\delta_{\mu\nu} = 0$。
对$3$维欧氏空间，笛卡尔坐标系的$\partial_a$就是普通矢量场论中熟知的$\vec{\nabla}$。
\end{example}

设$\nabla_a$与$g_{bc}$相适配，取$\tilde\nabla_a$为任一坐标系的$\partial_a$，则前述定理中的$C^c{}_{ab}$便是$\nabla_a$在该坐标系的克氏符$\Gamma^c{}_{ab}$，由该定理不难推得$\Gamma^c{}_{ab}$在该系的分量$\Gamma^\sigma{}_{\mu\nu}$的如下表达式:
$$\Gamma^\sigma{}_{\mu\nu} = \frac{1}{2}g^{\sigma\rho}(g_{\rho\mu,\nu} + g_{\nu\rho,\mu} - g_{\mu\nu,\rho})$$
推导如下：把$\partial_a$看作前述定理中的$\tilde\nabla_a$，则式中的$C^c{}_{ab}$就是$\Gamma^c{}_{ab}$，故
$$\Gamma^c{}_{ab} = \frac{1}{2}g^{cd}(\partial_ag_{bd} + \partial_bg_{ad} - \partial_dg_{ab})$$
$$\begin{aligned}
\Gamma^\sigma{}_{\mu\nu} & = \Gamma^c{}_{ab}(\mathrm{d}x^\sigma)_c(\partial / \partial x^\mu)^a(\partial / \partial x^\nu)^b \\
& = \frac{1}{2}(\mathrm{d}x^\sigma)_c(\partial / \partial x^\mu)^a(\partial / \partial x^\nu)^bg^{cd}(\partial_ag_{bd} + \partial_bg_{ad} - \partial_dg_{ab}) \\
& = \frac{1}{2}(\partial / \partial x^\mu)^a(\partial / \partial x^\nu)^bg^{\sigma\rho}(\partial_ag_{b\rho} + \partial_bg_{a\rho} - \partial_\rho g_{ab}) \\
& = \frac{1}{2}g^{\sigma\rho}(\partial_\mu g_{\nu\rho} + \partial_\nu g_{\mu\rho} - \partial_\rho g_{\mu\nu}) \\
& = \frac{1}{2}g^{\sigma\rho}(g_{\nu\rho,\mu} + g_{\mu\rho,\nu} - g_{\mu\nu,\rho})
\end{aligned}$$
利用对称性$g_{ab} = g_{ba}$不难看出这就是要推的结果。
此式与
$v^\nu{}_{;\mu} = v^\nu{}_{,\mu} + \Gamma^\nu{}_{\mu\sigma}v^\sigma, ~ \omega_{\nu;\mu} = \omega_{\nu,\mu} - \Gamma^\sigma{}_{\mu\nu}\omega_\sigma$
结合可方便地求得矢量场$v^a$和对偶矢量场$\omega_a$的协变导数$\nabla_av^b$和$\nabla_a\omega_b$的坐标分量$v^\nu{}_{;\mu}$和$\omega_{\nu;\mu}$。

\begin{note}
$\Gamma^\sigma{}_{\mu\nu}$既依赖于$M$上选定的$\nabla_a$又依赖于坐标系。
若$M$有度规$g_{ab}$，则不加声明时$\nabla_a$就是指同$g_{ab}$适配的导数算符，而``某系的克氏符''就是指这个$\nabla_a$在该系的克氏符。
例如，谈到$3$维欧氏空间中某坐标系的克氏符时，指的就是同欧氏度规相适配的$\nabla_a$（即笛卡尔系的$\partial_a$）在该系的克氏符。
一个笛卡尔系的$\partial_a$在任一笛卡尔系的克氏符显然为零。
\end{note}

设$\vec{T}$是$3$维欧氏空间的矢量场，则$\vec{T}\cdot\vec{\nabla}f$是梯度$\vec{\nabla}f$在$\vec{T}$方向的分量，即$f$沿$\vec{T}$方向的导数。
另一方面，由导数算符的条件（d）有$T^a\partial_af = T(f)$，而右边正是$f$沿$T^a$的导数。可见$T^a\partial_af = \vec{T}\cdot\vec{\nabla}f$。
进一步的问题是：$T^b\partial_bv^a$代表什么？答案自然是$v^a$沿$T^a$的导数。详见下节。

\subsection{矢量场沿曲线的导数与沿曲线的平移的关系}

先讨论最简单的特例，即欧氏空间。欧氏空间有一类特殊坐标系（笛卡尔系），用它可定义矢量的绝对（非曲线依赖）平移。

\begin{definition}
欧氏空间中$p$点的矢量$\vec{\tilde{v}}$称为$q$点的矢量$\vec{v}$\textbf{平移}至$p$点的结果，若两者在同一笛卡尔系的分量相等（注：对某一笛卡尔系为平移则对任意笛卡尔系也为平移）。
\end{definition}

\begin{definition}
欧氏空间中曲线$C(t)$上的矢量场$\vec{v}$沿线的导数$\mathrm{d}\vec{v} / \mathrm{d}t$定义为
$$\left.\frac{\mathrm{d}\vec{v}}{\mathrm{d}t}\right|_p \coloneq \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\vec{\tilde v}|_p - \vec{v}|_p) ~ \forall p \in C(t)$$
其中$\vec{\tilde v}|_p$是把$\vec{v}|_q$（$q$为$p$在线上的邻点）平移至$p$点的结果，$\Delta t \equiv t(q) - t(p)$。
\end{definition}

现在证明$\mathrm{d}\vec{v} / \mathrm{d}t$在抽象指标记号中就是$T^b\partial_bv^a$（其中$T^b$是$C(t)$的切矢，$\partial_b$是笛卡尔系的普通导数算符。），为此只须证明两者在笛卡尔系$\{x^i\}$的分量相等：
$$T^b\partial_bv^a\text{的第$i$分量} = T^b\partial_bv^a(\mathrm{d}x^i)_a = T^b\partial_bv^i = T(v^i) = \mathrm{d}v^i / \mathrm{d}t$$
另一方面，由上述定义可知
$$\left.\frac{\mathrm{d}\vec{v}}{\mathrm{d}t}\right|_p\text{的第$i$分量} = \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\tilde v^i|_p - v^i|_p) = \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\tilde v^i|_q - v^i|_p) = \left.\frac{\mathrm{d}v^i}{\mathrm{d}t}\right|_p$$
（最后一步无非是函数$v^i(t)$的导数的定义）对比两式可见
$$\mathrm{d}\vec{v} / \mathrm{d}t = T^b\nabla_bv^a$$
推广到带任意$\nabla_a$的任意流形$M$的任意曲线$C(t)$，便自然地把$T^b\nabla_bv^a$称为$v^a$沿$T^b$（或沿$C(t)$）的导数。有时也用记号$\mathrm{D}v^a / \mathrm{d}t$代表这一导数，即
$$\mathrm{D}v^a / \mathrm{d}t \equiv T^b\nabla_bv^a$$
然而上述绝对平移的定义不能推广到带有任意联络$\nabla_a$的任意流形$(M, \nabla_a)$。
后面我们将介绍流形的内禀曲率概念（并将看到欧氏和闵氏空间的内禀曲率为零），还将指出只有内禀曲率为零的空间才有绝对的（即与曲线无关的）平移概念。
不过，鉴于欧氏空间中$\mathrm{d}\vec{v} / \mathrm{d}t = 0$与$\vec{v}$沿$C(t)$平移等价（见上述定义），可以自然地把$T^b\nabla_bv^a = 0$作为$(M, \nabla_a)$中曲线$C(t)$上的矢量场$v^a$的平移定义，这就解释了本节一开始给出的平移定义提出的动机（但应特别注意这样定义的平移一般是曲线依赖的）。
在这种讲法中，我们是先定义$v^a$沿曲线的导数$T^b\nabla_bv^a$再用它定义$v^a$沿曲线的平移（与欧氏空间的顺序相反）。
由于$v^a$沿曲线的导数$T^b\nabla_bv^a$毕竟比较抽象，在有了曲线依赖的平移概念后，借用平移这一术语反过来对$T^b\nabla_bv^a$作一解释是有益的。
这一解释的实质就是上述定义所表达的含义，见如下定理。

\begin{theorem}
设$v^a$是$(M, \nabla_a)$的曲线$C(t)$上的矢量场，$T^b$是$C(t)$的切矢，$p, q$是$C(t)$上的邻点，则
$$T^b\nabla_bv^a|_p = \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\tilde v^a|_p - v^a|_p)$$
其中$\Delta t \equiv t(q) - t(p)$，$\tilde v^a|_p$是$v^a|_q$沿$C(t)$平移至$p$点的结果。
\end{theorem}

\section{测地线}

\begin{definition}
$(M, \nabla_a)$上的曲线$\gamma(t)$叫\textbf{测地线}，若其切矢$T^a$满足$T^b\nabla_bT^a = 0$。
\end{definition}

\begin{note}
\textcircled{1} 可见测地线的充要条件是其切矢沿曲线平移。
\textcircled{2} $T^b\nabla_bT^a = 0$称为\textbf{测地线方程}。
\textcircled{3} 设流形$M$上有度规场$g_{ab}$，则$(M, g_{ab})$的测地线是指$(M, \nabla_a)$的测地线，其中$\nabla_a$与$g_{ab}$适配。
\end{note}

设测地线$\gamma(t)$位于某坐标系的坐标域内，则以$T^a$代替上节第一个定理中的$v^a$便得
$$\frac{\mathrm{d}T^\mu}{\mathrm{d}t} + \Gamma^\mu{}_{\nu\sigma}T^\nu T^\sigma = 0, ~ \mu = 1, \cdots, n$$
设$x^\nu = x^\nu(t)$是测地线$\gamma(t)$的参数式，则$T^\mu = \mathrm{d}x^\mu / \mathrm{d}t$，故上式可改写为
$$\frac{\mathrm{d}^2x^\mu}{\mathrm{d}t^2} + \Gamma^\mu{}_{\nu\sigma}\frac{\mathrm{d}x^\nu}{\mathrm{d}t}\frac{\mathrm{d}x^\sigma}{\mathrm{d}t} = 0, ~ \mu = 1, \cdots, n$$
这就是测地线方程的坐标分量表达式。

\begin{example}
欧（闵）氏度规在笛卡尔（洛伦兹）系的克氏符为零，测地线方程的通解为$x^\mu(t) = a^\mu t + b^\mu$（其中$a^\mu, b^\mu$是常数）。
如果把欧（闵）氏空间中在笛卡尔（洛伦兹）系的参数式为$x^\mu(t) = a^\mu t + b^\mu$的曲线称为直线（段），欧（闵）氏空间的测地线便同义于直线（段）。
可见测地线可看作欧氏空间直线概念向广义黎曼空间的推广。
\end{example}

\begin{example}
设$S^2$是$3$维欧氏空间的$2$维球面，以球心为原点建球坐标系，则$3$维欧氏线元为$\mathrm{d}s^2 = \mathrm{d}r^2 + r^2(\mathrm{d}\theta^2 + \sin^2\theta\mathrm{d}\varphi^2)$。
若元线段躺在$S^2$上，则$r = R$（球半径）导致$\mathrm{d}r = 0$，故球面上的``诱导线元''（称为标准球面线元）为$\mathrm{d}\hat{s}^2 = R^2(\mathrm{d}\theta^2 + \sin^2\theta\mathrm{d}\varphi^2)$，就是说，$3$维欧氏度规$\delta_{ab}$在球面$S^2$上诱导出$2$维度规$g_{ab}$，其在坐标基底$\{(\partial / \partial\theta)^a, (\partial / \partial\varphi)^a\}$的分量为$g_{\theta\theta} = R^2, g_{\varphi\varphi} = R^2\sin^2\theta, g_{\theta\varphi} = g_{\varphi\theta} = 0$。
从测地线方程的坐标分量表达式出发可以证明，以这个度规衡量，球面上的曲线为测地线当且仅当它是大圆弧（并配以适当的参数化）。
\end{example}

\begin{theorem}
设$\gamma(t)$为测地线，则其重参数化$\gamma'(t')[= \gamma(t)]$的切矢$T'^a$满足
$$T'^b\nabla_bT'^a = \alpha T'^a\text{（$\alpha$为$\gamma(t)$上的某个函数）}$$
\end{theorem}

\begin{proof}
$$T^a = \left(\frac{\partial}{\partial t}\right)^a = \left(\frac{\partial}{\partial t'}\right)^a\frac{\mathrm{d}t'}{\mathrm{d}t} = \frac{\mathrm{d}t'}{\mathrm{d}t}T'^a$$
$$0 = T^b\nabla_bT^a = \frac{\mathrm{d}t'}{\mathrm{d}t}T'^b\nabla_b\left(\frac{\mathrm{d}t'}{\mathrm{d}t}T'^a\right) = \left(\frac{\mathrm{d}t'}{\mathrm{d}t}\right)^2T'^b\nabla_bT'^a + T'^a\frac{\mathrm{d}t'}{\mathrm{d}t}T'^b\nabla_b\left(\frac{\mathrm{d}t'}{\mathrm{d}t}\right)$$
右边第二项$= T'^a\frac{\mathrm{d}t'}{\mathrm{d}t}\frac{\mathrm{d}}{\mathrm{d}t'}\left(\frac{\mathrm{d}t'}{\mathrm{d}t}\right) = T'^a\frac{\mathrm{d}^2t'}{\mathrm{d}t^2}$，故$T'^b\nabla_bT'^a = -\left(\frac{\mathrm{d}t}{\mathrm{d}t'}\right)^2\frac{\mathrm{d}^2t'}{\mathrm{d}t^2}T'^a$。
令$\alpha \equiv -\left(\frac{\mathrm{d}t}{\mathrm{d}t'}\right)^2\frac{\mathrm{d}^2t'}{\mathrm{d}t^2}$，得证。
\end{proof}

\begin{theorem}
设曲线$\gamma(t)$的切矢$T^a$满足$T^b\nabla_bT^a = \alpha T^a$（$\alpha$为$\gamma(t)$上的函数），则存在$t' = t'(t)$使得$\gamma'(t')[= \gamma(t)]$为测地线。
\end{theorem}

\begin{definition}
能使曲线成为测地线的参数叫该曲线的\textbf{仿射参数}。
\end{definition}

\begin{note}
有时也把满足$T^b\nabla_bT^a = \alpha T^a$的曲线叫测地线。
不过，为避免混淆，最好称之为``非仿射参数化的测地线''。
\end{note}

\begin{theorem}
若$t$是某测地线的仿射参数，则该线的任一参数$t'$是仿射参数的充要条件为$t' = at +b$（其中$a, b$为常数且$a \neq 0$）。
\end{theorem}

\begin{theorem}
流形$M$的一点$p$及$p$点的一个矢量$v^a$决定唯一的测地线$\gamma(t)$，满足
\begin{enumerate}[（1）]
\item $\gamma(0) = p$；
\item $\gamma(t)$在$p$点的切矢等于$v^a$。
\end{enumerate}
\end{theorem}

\begin{proof}
任取一坐标系$\{x^\mu\}$使坐标域含$p$，则测地线方程的坐标分量表达式可看作关于$n$个待求函数$x^\mu(t)$的$n$个二阶常微分方程，则给定$p \in M$及$v^a \in V_p$就是给定初始条件$x^\mu(0) = x^\mu|_p$及$(\mathrm{d}x^\mu / \mathrm{d}t)|_0 = v^a$，故有唯一解。
\end{proof}

\begin{theorem}
测地线的线长参数必为仿射参数。
\end{theorem}

众所周知，欧氏空间中两点之间直线（段）最短。
现在讨论这一结论在多大程度上适用于带洛伦兹度规的流形（时空）。

\begin{theorem}
设$g_{ab}$是流形$M$上的洛伦兹度规场，$p, q \in M$，则$p, q$间的光滑类空（类时）曲线为测地线当且仅当其线长取极值。
\end{theorem}

\begin{note}
\textcircled{1} 本定理也适用于$g_{ab}$为正定度规的情况（这时曲线的定语``类空（类时）''略去）。
\textcircled{2} 线长取极值的含义如下：设$C$是$p, q$间的类空（类时）曲线，则可对它做微小修改而得到$p, q$间的与$C$``无限邻近''的许多类空（类时）曲线。
上述定理断定$C$为测地线的充要条件是其长度在所有这些类空（类时）曲线的长度中取极值。
一元函数$f(x)$取极值的条件是一阶导数为零，然而上述定理涉及的长度$l$（看作``因变量''）相应的``自变量''不是实数而是曲线，关心的是从一条曲线变到另一曲线时$l$的变化，因此$l$不是一元函数而是泛函。
根据变分理论，$l$取极值的充要条件是$l$的变分$\delta l$为零。
\end{note}

一元函数$f(x)$的极值可为极小（其充分条件为$f'(x) = 0, f''(x) > 0$），也可为极大（其充分条件为$f'(x) = 0, f''(x) < 0$），还可为既非极小又非极大（其必要条件为$f'(x) = 0, f''(x) = 0$）。
与此类似，线长的极值也有上述三种可能，讨论如下。

先讨论$g_{ab}$为正定度规的情况。给定$p, q$之间的任一曲线，总可略加修改而得长度更大的曲线，故$p, q$间的曲线长度无极大可言。
设$C$是$p, q$间长度极小的一条曲线，由前述定理知它必为测地线。然而$p, q$间的测地线却未必长度极小，因为极值可以既非极小又非极大。
可以证明，测地线长度取极小值的充要条件是线上不存在共轭点对。欧氏空间当然没有共轭点对，因此两点之间直线（段）最短。

再讨论$g_{ab}$为洛伦兹度规的情况。先看闵氏时空这一最简单特例。
前已说过闵氏时空中直线与测地线同义。设$p, q$间有类时测地线$\gamma$相连，它是否为$p, q$间的最短线？
否。由于类光曲线长度为零，任一类时曲线$C$都不是最短线，因为总可对它略加修改而成为足够接近类光的类时曲线$C'$，其长度小于$C$。
事实上，类时测地线$\gamma$非但不是最短线，而且是$p, q$间的最长线。
以$2$维闵氏时空为例证明（容易推广至任意维闵氏时空）。
由于$\gamma$的参数式$x^\mu(t)$为线性函数，可通过洛伦兹坐标的平移和伪转动选择洛伦兹系$\{x^0, x^1\}$使其$x^0$坐标线与$\gamma$重合。
设$C$是$p, q$间的任一类时非测地线，用许多等$x^0$线把$\gamma$分成许多元段，由闵氏线元表达式可知$\gamma$和$C$的元段的线长依次为
\begin{gather*}
\mathrm{d}l_\gamma = \sqrt{-\mathrm{d}s^2} = \sqrt{-[-(\mathrm{d}x^0)^2 + 0]} = \mathrm{d}x^0 \\
\mathrm{d}l_C = \sqrt{-[-(\mathrm{d}x^0)^2 + (\mathrm{d}x^1)^2]} < \mathrm{d}x^0 = \mathrm{d}l_\gamma
\end{gather*}
上述结果也适用于其他任一对元段，可见$l_\gamma > l_C$，即闵氏时空的类时测地线是最长类时线。
换句话说，闵氏时空中两点之间（类时）直线（段）最长。
又因为最长线必为测地线，所以对闵氏时空而言，两点间的类时线为最长线的充要条件是它为测地线。
再讨论一般时空，设$C$是$p, q$间长度极大的类时线，则由定理可知它是测地线。
然而反过来却未必，因为定理只保证$p, q$间的类时测地线长取极值，不保证它是极大（当然，由于类光曲线长度为零，它肯定也不是极小。）。
可以证明，任意时空中类时测地线长为极大的充要条件是线上不存在共轭点对。
小结：对任意时空中有类时联系的两点：
\textcircled{1} 两点间的最长线是类时测地线；
\textcircled{2} 两点间的类时测地线未必是最长线（对闵氏时空一定是）；
\textcircled{3} 两点间没有最短类时线。

\section{黎曼曲率张量}

\subsection{黎曼曲率的定义和性质}

导数算符$\nabla_a$的无挠性保证$(\nabla_a\nabla_b - \nabla_b\nabla_a)f = 0$，即$\nabla_a\nabla_bf$是个对称的$(0, 2)$型张量。
把算符$(\nabla_a\nabla_b - \nabla_b\nabla_a)$称为导数算符$\nabla_a$的\textbf{对易子}，则$\nabla_a$的无挠性体现为其对易子对函数的作用结果为零。
然而无挠导数算符的对易子对其他型号的张量场的作用结果却未必为零，黎曼曲率张量正是这种非对易性的表现。

\begin{theorem}
设$f \in \mathscr{F}, \omega_a \in \mathscr{F}(0, 1)$，则
$$(\nabla_a\nabla_b - \nabla_b\nabla_a)(f\omega_c) = f(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c$$
\end{theorem}

\begin{proof}
把$\nabla_a\nabla_b(f\omega_c)$和$\nabla_b\nabla_a(f\omega_c)$分别展为$4$项，两者相减，注意到无挠性条件，便可得证。
\end{proof}

\begin{theorem}
设$\omega_c, \omega'_c \in \mathscr{F}(0, 1)$且$\omega'_c|_p = \omega_c|_p$，则
$$[(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega'_c]|_p = [(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c]|_p$$
\end{theorem}

\begin{proof}
令$\Omega_c \equiv \omega'_c - \omega_c$，则要证的结果等价于
$[(\nabla_a\nabla_b - \nabla_b\nabla_a)\Omega_c]|_p = 0$，
将其中的$\Omega_c$展开为坐标分量表达式，利用前一定理的结果即可得证。
\end{proof}

上述定理表明$(\nabla_a\nabla_b - \nabla_b\nabla_a)$是把$p$点的对偶矢量$\omega_c|_p$变为$p$点的$(0, 3)$型张量$[(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c]|_p$的线性映射，做法是：
把$\omega_c|_p$任意延拓而得一个定义于$p$点某邻域的对偶矢量场$\omega_c$，求出$(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c$，再取其在$p$点的值便得映射的像。
该定理保证这个像与延拓方式无关。于是$(\nabla_a\nabla_b - \nabla_b\nabla_a)$对应于$p$点的一个$(1, 3)$型张量，叫\textbf{黎曼曲率张量}，记作$R_{abc}{}^d$。
又因$p$点任意，故$R_{abc}{}^d$是张量场。于是有

\begin{definition}
导数算符$\nabla_a$的\textbf{黎曼曲率张量场}$R_{abc}{}^d$由下式定义
$$(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c = R_{abc}{}^d\omega_d, ~ \forall \omega_c \in \mathscr{F}(0, 1)$$
\end{definition}

黎曼张量场反映导数算符的非对易性，是描述$(M, \nabla_a)$内禀性质的张量场。
只要选定导数算符就可谈及其黎曼张量。
当然，对广义黎曼空间$(M, g_{ab})$也可谈及黎曼张量，亦称$g_{ab}$的黎曼张量，是指与$g_{ab}$适配的那个导数算符$\nabla_a$的黎曼张量场。
黎曼张量场为零的度规称为\textbf{平直度规}。下面证明欧氏和闵氏度规都是平直度规。

\begin{theorem}
欧氏空间$(\mathbb{R}^n, \delta_{ab})$和闵氏空间$(\mathbb{R}^n, \eta_{ab})$的黎曼曲率张量场为零。
\end{theorem}

\begin{proof}
欧（闵）氏空间任一笛卡尔（洛伦兹）系的普通导数算符$\partial_a$是与$\delta_{bc}$适配的那个特定的导数算符。而
$$(\partial_a\partial_b - \partial_b\partial_a)\omega_c = (\mathrm{d}x^\mu)_a(\mathrm{d}x^\nu)_b(\mathrm{d}x^\sigma)_c(\partial_\mu\partial_\nu\omega_\sigma - \partial_\nu\partial_\mu\omega_\sigma) = 0, ~ \forall \omega_c$$
故$\partial_a$的$R_{abc}{}^d$为零。
\end{proof}

因此欧氏空间和闵氏空间都称为\textbf{平直空间}。事实上，闵氏空间在许多方面类似于欧氏空间，故又称为\textbf{伪欧空间}。

黎曼曲率张量反映导数算符作用于对偶矢量场的非对易性。由此可推知导数算符作用于任意型张量场$T^{c_1 \cdots c_k}{}_{d_1 \cdots d_l}$的非对易性，即推出用$R_{abc}{}^d$表述$(\nabla_a\nabla_b - \nabla_b\nabla_a)T^{c_1 \cdots c_k}{}_{d_1 \cdots d_l}$的公式。
我们有如下定理：

\begin{theorem}
$(\nabla_a\nabla_b - \nabla_b\nabla_a)v^c = -R_{abd}{}^cv^d, \forall v^c \in \mathscr{F}(1, 0)$
\end{theorem}

\begin{proof}
对所有的$\omega_c \in \mathscr{F}(0, 1)$，有$v^c\omega_c \in \mathscr{F}$，故由无挠性条件得
$$\begin{aligned}
0 & = (\nabla_a\nabla_b - \nabla_b\nabla_a)(v^c\omega_c) = \nabla_a(v^c\nabla_b\omega_c + \omega_c\nabla_bv^c) - \nabla_b(v^c\nabla_a\omega_c + \omega_c\nabla_av^c) \\
& = v^c\nabla_a\nabla_b\omega_c + \omega_c\nabla_a\nabla_bv^c - v^c\nabla_b\nabla_a\omega_c - \omega_c\nabla_b\nabla_av^c
\end{aligned}$$
从而$\omega_c(\nabla_a\nabla_b - \nabla_b\nabla_a)v^c = -v^c(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c = -v^cR_{abc}{}^d\omega_d = -\omega_cR_{abd}{}^cv^d$
于是定理得证。
\end{proof}

\begin{theorem}
对于所有的$T^{c_1 \cdots c_k}{}_{d_1 \cdots d_l} \in \mathscr{F}(k, l)$有
$$(\nabla_a\nabla_b - \nabla_b\nabla_a)T^{c_1 \cdots c_k}{}_{d_1 \cdots d_l} = -\sum^k_{i = 1}R_{abe}{}^{c_i}T^{c_1 \cdots e \cdots c_k}{}_{d_1 \cdots d_l} + \sum^l_{j = 1}R_{abd_j}{}^eT^{c_1 \cdots c_k}{}_{d_1 \cdots e \cdots d_l}$$
\end{theorem}

\begin{theorem}
黎曼曲率张量有以下性质
\begin{enumerate}[（1）]
\item $R_{abc}{}^d = -R_{bac}{}^d$
\item $R_{[abc]}{}^d = 0$（\textbf{循环恒等式}）
\item $\nabla_{[a}R_{bc]d}{}^e = 0$（\textbf{Bianchi恒等式}）

若$M$上有度规场$g_{ab}$且$\nabla_ag_{bc} = 0$，则可定义$R_{abcd} \equiv g_{de}R_{abc}{}^e$，且$R_{abcd}$还满足

\item $R_{abcd} = -R_{abdc}$
\item $R_{abcd} = R_{cdab}$
\end{enumerate}
\end{theorem}

\begin{proof}
\begin{enumerate}[（1）]
\item 由定义显见。
\item 因$R_{[abc]}{}^d\omega_d = \nabla_{[a}\nabla_b\omega_{c]} - \nabla_{[b}\nabla_a\omega_{c]} = 2\nabla_{[a}\nabla_b\omega_{c]}$，故只须证
$$\nabla_{[a}\nabla_b\omega_{c]} = 0, ~ \forall \omega_c \in \mathscr{F}(0, 1)$$
而（取$\tilde\nabla_a$为$\partial_a$）
$$\begin{aligned}
\nabla_a(\nabla_b\omega_c) & = \partial_a(\nabla_b\omega_c) - \Gamma^d{}_{ab}\nabla_d\omega_c - \Gamma^d{}_{ac}\nabla_b\omega_d \\
& = \partial_a(\partial_b\omega_c - \Gamma^e{}_{bc}\omega_e) - \Gamma^d{}_{ab}\nabla_d\omega_c - \Gamma^d{}_{ac}\nabla_b\omega_d \\
& = (\partial_a\partial_b\omega_c - \partial_a\Gamma^e{}_{bc}\omega_e - \Gamma^e{}_{bc}\partial_a\omega_e) - \Gamma^d{}_{ab}\nabla_d\omega_c - \Gamma^d{}_{ac}\nabla_b\omega_d
\end{aligned}$$
故$\nabla_{[a}\nabla_b\omega_{c]} = \partial_{[a}\partial_b\omega_{c]} - \partial_{[a}\Gamma^e{}_{bc]}\omega_e - \Gamma^e{}_{[bc}\partial_{a]}\omega_e - \Gamma^d{}_{[ab}\nabla_{|d|}\omega_{c]} - \Gamma^d{}_{[ac}\nabla_{b]}\omega_d$
下标$[ab|d|c]$中的$|d|$表明$d$不参与反称化。注意到$\nabla_a\nabla_b\omega_c = \nabla_b\nabla_a\omega_c$和$\Gamma^e{}_{bc} = \Gamma^e{}_{cb}$，可知上式右边每项都为零。
\item 只须证$\nabla_{[a}R_{bc]d}{}^e\omega_e = 0, ~ \forall \omega_e \in \mathscr{F}(0, 1)$，而
$$\begin{aligned}
\nabla_{a}R_{bcd}{}^e\omega_e & = \nabla_a(R_{bcd}{}^e\omega_e) - R_{bcd}{}^e\nabla_a\omega_e \\
& = \nabla_a(\nabla_b\nabla_c\omega_d - \nabla_c\nabla_b\omega_d) - R_{bcd}{}^e\nabla_a\omega_e \\
& = \nabla_a\nabla_b\nabla_c\omega_d - \nabla_a\nabla_c\nabla_b\omega_d - R_{bcd}{}^e\nabla_a\omega_e \\
& = \nabla_a\nabla_b\nabla_c\omega_d - \nabla_b\nabla_a\nabla_c\omega_d - R_{bcd}{}^e\nabla_a\omega_e \\
& = (\nabla_a\nabla_b - \nabla_b\nabla_a)\nabla_c\omega_d - R_{bcd}{}^e\nabla_a\omega_e \\
& = R_{abd}{}^e\nabla_c\omega_e + R_{abc}{}^e\nabla_e\omega_d - R_{bcd}{}^e\nabla_a\omega_e
\end{aligned}$$
现在取反称化，并注意到循环恒等式，有
$$\begin{aligned}
\nabla_{[a}R_{bc]d}{}^e\omega_e & = R_{[ab|d|}{}^e\nabla_{c]}\omega_e + R_{[abc]}{}^e\nabla_e\omega_d - R_{[bc|d|}{}^e\nabla_{a]}\omega_e \\
& = R_{[ab|d|}{}^e\nabla_{c]}\omega_e - R_{[ab|d|}{}^e\nabla_{c]}\omega_e \\
& = 0
\end{aligned}$$
\item 由$\nabla_ag_{cd} = 0$得
$$0 = (\nabla_a\nabla_b - \nabla_b\nabla_a)g_{cd} = R_{abc}{}^eg_{ed} + R_{abd}{}^eg_{ce} = R_{abcd} + R_{abdc}$$
\item 把循环恒等式展开，即$R_{abc}{}^d + R_{cab}{}^d + R_{bca}{}^d - R_{acb}{}^d - R_{cba}{}^d - R_{bac}{}^d = 0$，而带负号的每一项都等于带正号的对应项，所以
$R_{abc}{}^d + R_{cab}{}^d + R_{bca}{}^d = 0$，因此$R_{abc}{}^d = R_{cad}{}^b + R_{cba}{}^d$。
为了让等式中出现$R_{cda}{}^b$，我们分别交换$a,d$和$b,d$，得到$R_{dbc}{}^a = R_{cda}{}^b + R_{cbd}{}^a$和$R_{adc}{}^b = R_{cab}{}^d + R_{cda}{}^b$。
将此三式相加，得$R_{abc}{}^d + R_{dbc}{}^a + R_{adc}{}^b = 2R_{cda}{}^b$。
把等号左边的$c$都调到最后，即$R_{bad}{}^c + R_{bda}{}^c + R_{dab}{}^c = R_{bad}{}^c - R_{abd}{}^c = 2R_{bad}{}^c = 2R_{cda}{}^b$，而这就等价于我们要证的。
\end{enumerate}
\end{proof}

\begin{note}
设$\dim M = n$，则$R_{abc}{}^d$的分量$R_{\mu\nu\sigma}{}^\rho$共有$n^4$个。但由于满足前述定理中的代数等式，独立分量数仅为
$$N = n^2(n^2 - 1) / 12$$
\end{note}

选定度规后，每个$(0, 2)$型张量$T_{ab}$对应于一个$(1, 1)$型张量$T^a{}_b \equiv g^{ac}T_{cb}$，即矢量空间上的一个线性变换，其在任意基底的分量组成一个矩阵，不同基底对应的矩阵互为相似矩阵，故有相同的迹，其值为$T^a{}_a = g^{ac}T_{ac}$，称为张量$T^a{}_b$的迹，也称为$T_{ab}$的迹。
类似地，给定$(0, 4)$型张量$R_{abcd}$，原则上可通过缩并得到以下六个``迹''（每个``迹''是一个$(0, 2)$型张量）：$g^{ab}R_{abcd}$，$g^{ac}R_{abcd}$，$g^{ad}R_{abcd}$，$g^{bc}R_{abcd}$，$g^{bd}R_{abcd}$及$g^{cd}R_{abcd}$。
然而，由于黎曼张量$R_{abc}{}^d$降指标后所得$R_{abcd}$的性质及$g^{ac}$的对称性，易见上述六个缩并中的第一、六个为零；第二、五个相等（理由：$g^{ac}R_{abcd} = g^{ac}R_{badc}$，与$g^{bd}R_{abcd}$实质一样，只因要照顾指标平衡而不写$g^{ac}R_{abcd} = g^{bd}R_{abcd}$）；
第三、四个相等并等于第二、五个之负，故六个缩并中只有一个独立，例如可取$g^{bd}R_{abcd} = R_{abc}{}^b$，记作$R_{ac}$，称为\textbf{里奇张量}。
应该强调的是为定义里奇张量无需借用度规，因为$R_{ac} \equiv R_{abc}{}^b$天生就有明确意义。
$R_{ac}$还可借度规求迹，即$g^{ac}R_{ac}$，记作$R$，称为\textbf{标量曲率}。易证$R_{ac} = R_{ca}$。
此外还应掌握$R_{abc}{}^d$的无迹部分，叫外尔张量，定义如下：

\begin{definition}
对维数$n \geq 3$的广义黎曼空间，\textbf{外尔张量}$C_{abcd}$由下式定义：
$$C_{abcd} \coloneq R_{abcd} - \frac{2}{n - 2}(g_{a[c}R_{d]b} - g_{b[c}R_{d]a}) + \frac{2}{(n - 1)(n - 2)}Rg_{a[c}g_{d]b}$$
\end{definition}

\begin{theorem}
外尔张量有以下性质：
\begin{enumerate}[（1）]
\item $C_{abcd} = -C_{bacd} = -C_{abdc} = C_{cdab}, ~ C_{[abc]d} = 0$
\item $C_{abcd}$的各种迹都为零，例如$g^{ac}C_{abcd} = 0$
\end{enumerate}
\end{theorem}

\begin{note}
外尔张量的定义说明$R_{abcd}$是其无迹部分$C_{abcd}$与有迹部分
$$\frac{2}{n - 2}(g_{a[c}R_{d]b} - g_{b[c}R_{d]a}) + \frac{2}{(n - 1)(n - 2)}Rg_{a[c}g_{d]b}$$
之和。
\end{note}

\begin{definition}
广义黎曼空间的\textbf{爱因斯坦张量}$G_{ab}$由下式定义
$$G_{ab} \coloneq R_{ab} - \frac{1}{2}Rg_{ab}$$
\end{definition}

\begin{theorem}
$\nabla^aG_{ab} = 0$（其中$\nabla^aG_{ab} \equiv g^{ac}\nabla_cG_{ab}$）。
\end{theorem}

\begin{proof}
由Bianchi恒等式有$0 = \nabla_aR_{bcd}{}^e + \nabla_cR_{abd}{}^e + \nabla_bR_{cad}{}^e$。
指标$a$同$e$缩并得$0 = \nabla_aR_{bcd}{}^a + \nabla_cR_{abd}{}^a + \nabla_bR_{cad}{}^a = \nabla_aR_{bcd}{}^a - \nabla_cR_{bd} + \nabla_bR_{cd}$。
以$g^{bd}$作用得
$$\begin{aligned}
0 & = g^{bd}\nabla_aR_{bcd}{}^a - g^{bd}\nabla_cR_{bd} + g^{bd}\nabla_bR_{cd} \\
& = \nabla_aR_{c}{}^a - \nabla_cR + \nabla_bR_c{}^b = 2\nabla_aR_c{}^a - \nabla_cR
\end{aligned}$$
故$\nabla^aG_{ab} = \nabla^aR_{ab} - \frac{1}{2}R\nabla^ag_{ab} = \nabla_aR_{b}{}^a - \frac{1}{2}R\nabla_b = 0$，其中第二步用到$R_{ab} = R_{ba}$以及$\nabla^aG_{ab}$的定义，第三步用到上式。
\end{proof}

爱因斯坦张量$G_{ab}$及其满足的上述定理对建立广义相对论的爱因斯坦方程有重要作用。

\subsection{由度规计算黎曼曲率}

设$M$上给定度规$g_{ab}$，由$\nabla_ag_{bc} = 0$便决定唯一的联络$\nabla_a$，因而有黎曼张量$R_{abc}{}^d$。
常见的问题是已知$g_{ab}$欲求$R_{abc}{}^d$。
所谓计算某张量，就是求出它在某基底的分量。
基底分为坐标基底和非坐标基底两大类，本小节只讲用坐标基底求曲率的方法，用非坐标基底的方法将在后面的章节介绍。

任选坐标系后，度规分量$g_{\mu\nu}$便是已知量，满足$\nabla_ag_{bc} = 0$的联络$\nabla_a$在此坐标系下的体现就是它在该系的克氏符
$$\Gamma^\sigma{}_{\mu\nu} = \frac{1}{2}g^{\sigma\rho}(-g_{\mu\nu,\rho} + g_{\rho\mu,\nu} + g_{\nu\rho,\mu})$$
$\Gamma^\sigma{}_{\mu\nu}$有三个具体指标，故${\Gamma^\sigma{}_{\mu\nu}}$含$n^3$个数。
对称性$\Gamma^\sigma{}_{\mu\nu} = \Gamma^\sigma{}_{\nu\mu}$使这$n^3$个数中只有$n^2(n + 1)/2$个独立
（当$n = 4$时有$40$个数独立，其分别为$\Gamma^0{}_{00}, \Gamma^0{}_{01}, \Gamma^0{}_{02}, \Gamma^0{}_{03}, \Gamma^0{}_{11}, \Gamma^0{}_{12}, \Gamma^0{}_{13}, \Gamma^0{}_{22}, \Gamma^0{}_{23}, \Gamma^0{}_{33}; \Gamma^1{}_{00}, \cdots; \Gamma^2{}_{00}, \cdots; \Gamma^3{}_{00}, \cdots$）。
计算的第一步就是从已知的$g_{\mu\nu}$求出全部非零的$\Gamma^\sigma{}_{\mu\nu}$。

由黎曼张量定义有$R_{abc}{}^d\omega_d = 2\nabla_{[a}\nabla_{b]}\omega_c$，其中$\nabla_a\nabla_b\omega_c$可借前面证明中的等式表为$6$项（原式共$5$项，第$5$项的$\nabla_b\omega_d$又可展为两项，即$\partial_b\omega_d - \Gamma^e{}_{bd}\omega_e$），
对每项的指标$a, b$反称化，注意到$\partial_{[a}\partial_{b]}\omega_c = 0$，$\Gamma^d{}_{[ab]} = \Gamma^d{}_{[(ab)]} = 0$，便得
$$\begin{aligned}
R_{abc}{}^d\omega_d & = 2(\partial_{[a}\partial_{b]}\omega_c - \partial_{[a}\Gamma^e{}_{b]c}\omega_e - \Gamma^e{}_{c[b}\partial_{a]}\omega_e - \Gamma^d{}_{[ab]}\nabla_d\omega_c - \Gamma^d{}_{c[a}\nabla_{b]}\omega_d) \\
& = 2(-\partial_{[a}\Gamma^e{}_{b]c}\omega_e - \Gamma^e{}_{c[b}\partial_{a]}\omega_e - \Gamma^d{}_{c[a}\partial_{b]}\omega_d + \Gamma^d{}_{c[a}\Gamma^e{}_{b]d}\omega_e) \\
& = -2\partial_{[a}\Gamma^d{}_{b]c}\omega_d + 2\Gamma^e{}_{c[a}\Gamma^d{}_{b]e}\omega_d, ~ \forall \omega_d \in \mathscr{F}(0, 1)
\end{aligned}$$
故$R_{abc}{}^d = -2\partial_{[a}\Gamma^d{}_{b]c} + 2\Gamma^e{}_{c[a}\Gamma^d{}_{b]e}$，
其坐标分量为
$$\begin{aligned}
R_{\mu\nu\sigma}{}^\rho & = -2\partial_{[\mu}\Gamma^\rho{}_{\nu]\sigma} + 2\Gamma^\lambda{}_{\sigma[\mu}\Gamma^\rho{}_{\nu]\lambda}\\
& = \Gamma^\rho{}_{\mu\sigma, \nu} - \Gamma^\rho{}_{\nu\sigma, \mu} + \Gamma^\lambda{}_{\sigma\mu}\Gamma^\rho{}_{\nu\lambda} - \Gamma^\lambda{}_{\sigma\nu}\Gamma^\rho{}_{\mu\lambda}
\end{aligned}$$
其中$\Gamma^\rho{}_{\mu\sigma, \nu} \equiv \partial\Gamma^\rho{}_{\mu\sigma} / \partial x^\nu$。
由上式又可得里奇张量的坐标分量表达式
$$R_{\mu\sigma} = R_{\mu\nu\sigma}{}^\nu = \Gamma^\nu{}_{\mu\sigma, \nu} - \Gamma^\nu{}_{\nu\sigma, \mu} + \Gamma^\lambda{}_{\sigma\mu}\Gamma^\nu{}_{\nu\lambda} - \Gamma^\lambda{}_{\sigma\nu}\Gamma^\nu{}_{\mu\lambda}$$

\section{内禀曲率和外曲率}

根据直觉，平面是平直的，曲面是弯曲的。说得准确些，这些``平面''和``曲面''都是指镶嵌在$3$维欧氏空间中的$2$维面（后者例如球面和柱面）。
现在问：对给定的$n$维流形，可否也仿照这一思路谈及它是否弯曲？只要它能被镶嵌进$n + 1$维流形，就可这样讨论。
把流形镶进高一维流形所定义的曲率叫``外曲率''，有准确定义。$3$维欧氏空间中的球面和圆柱面由这一定义求得的外曲率都非零，同直观感觉吻合。
然而本章介绍的黎曼张量却是内禀曲率，它反映流形$M$在指定联络$\nabla_a$后的``内禀弯曲性''，无须镶嵌进高一维的流形去判断，与外曲率并不相同（一般而言，$(M, g_{ab})$中凡是只由$g_{ab}$（而不必嵌入高一维流形）决定的性质都称为$(M, g_{ab})$的\textbf{内禀性质}。）。
``内禀弯曲性''的``弯曲''一词反映的只是以下三个等价性质，具有这些性质的广义黎曼空间叫弯曲空间。

\begin{enumerate}[（1）]
\item 导数算符的非对易性，即$(\nabla_a\nabla_b - \nabla_b\nabla_a)\omega_c = R_{abc}{}^d\omega_d, ~ \forall \omega_d \in \mathscr{F}(0, 1)$，其中非零张量场$R_{abc}{}^d$被用作内禀（黎曼）曲率的定义。
\item 矢量平移的曲线依赖性

$(M, \nabla_a)$中两点$p, q$的切空间$V_p$和$V_q$之间存在一个曲线依赖的平移映射：对$p, q$之间的一段曲线，$p$点的任一矢量$v^a$决定线上的一个平移矢量场$\tilde{v}^a$（满足$\tilde{v}^a|_p = v^a$），它在$q$点的值$\tilde{v}^a|_q$就定义为$v^a$的像，或说$\tilde{v}^a|_q$是$v^a$沿线平移至$q$的结果。
对欧氏、闵氏空间以及所有平直空间，这一平移与曲线无关，因此在谈到``把$p$点的矢量平移到$q$点''时不必说明沿哪条曲线，这种简单性称为平移的绝对性，是人们十分熟悉的。
然而弯曲空间就不如此简单。可以证明，内禀曲率$R_{abc}{}^d$非零的充要条件是存在这样的闭合曲线，线上某点的一个矢量沿线平移一周后不复原（所得矢量与原矢量不等），因此平移同曲线有关（只存在曲线依赖的平移概念）。
\item 存在初始平行后来不平行的测地线
\end{enumerate}

平直空间的曲率张量场$R_{abc}{}^d$为零，因此不具有以上三个性质中的任一个。具体地说，
\textcircled{1} 与平直度规适配的导数算符$\partial_a$（即笛卡尔或洛伦兹系的普通导数算符）不存在非对易性；
\textcircled{2} 矢量平移同曲线无关，因此可谈及矢量的``绝对平移''；
\textcircled{3} 平行直线永不相交。

内禀曲率与外曲率是不同的概念。
例如，$3$维欧氏空间中的$2$维圆柱面的外曲率非零而内禀曲率为零。
圆柱面可看作平面上介于两条直线$l_1$和$l_2$之间的部分在两直线认同（粘合）后的结果。
由于$p$点的$R_{abc}{}^d$的计算只涉及$p$点的一个邻域，$p$点的$R_{abc}{}^d$不会因$l_1$和$l_2$的认同而变得非零。
