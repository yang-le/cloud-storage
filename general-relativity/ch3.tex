\chapter{黎曼（内禀）曲率张量}

\section{导数算符}

欧氏空间有熟知的导数算符$\vec{\nabla}$，它作用于函数（标量场）$f$得矢量场$\vec{\nabla}f$（梯度），作用于矢量场$\vec{v}$（再求缩并）得标量场$\vec{\nabla}\cdot\vec{v}$（散度）等。
由于存在欧氏度规$\delta_{ab}$，欧氏空间的矢量$v^a$与对偶矢量$v_a = \delta_{ab}v^b$自然认同。
现在要把$\vec{\nabla}$推广到任意流形，其上可以没有度规，所以要分清矢量和对偶矢量。
研究发现在推广时$\vec{\nabla}$更像对偶矢量，故应记作$\nabla_a$。
其实$\nabla$本身是算符，既非矢量也非对偶矢量，所谓把$\nabla$看作对偶矢量是指它作用于函数$f$的结果$\nabla_af$是对偶矢量。
推而广之，$\nabla$作用于任一$(k, l)$型张量场的结果是$(k, l + 1)$型张量场。
于是有如下定义：

\begin{definition}
以$\mathscr{F}_M(k, l)$代表流形$M$上全体$C^\infty$的$(k, l)$型张量场的集合（函数$f$可看作$(0, 0)$型张量场（标量场），故$\mathscr{F}_M(0, 0) \equiv \mathscr{F}_M$）。
映射$\nabla \colon \mathscr{F}_M(k, l) \to \mathscr{F}_M(k, l + 1)$称为$M$上的\textbf{（无挠）导数算符}\footnote{
$\mathscr{F}(k, l)$可放宽为全体$C^1$类$(k, l)$型张量场的集合。就是说，$\nabla_a$可作用于任一$C^1$类张量场。
}，若它满足如下条件：
\begin{enumerate}[（a）]
\item 具有线性性：
$$\begin{aligned}
& \nabla_a(\alpha T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} + \beta S^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}) = \alpha\nabla_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} + \beta\nabla_aS^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \\
& \forall T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}, S^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \in \mathscr{F}_M(k, l), ~ \alpha, \beta \in \mathbb{R}
\end{aligned}$$
\item 满足莱布尼茨律：
$$\begin{aligned}
& \nabla_a(T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}}) = T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \nabla_a S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}} + S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}} \nabla_a T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \\
& \forall T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} \in \mathscr{F}_M(k, l), ~ S^{d_1 \cdots d_{k'}}{}_{e_1 \cdots e_{l'}} \in \mathscr{F}_M(k', l')
\end{aligned}$$
\item 与缩并可交换顺序
\item $v(f) = v^a\nabla_af, ~ \forall f \in \mathscr{F}_M, v \in \mathscr{F}_M(1, 0)$
\item 具有无挠性：$\nabla_a\nabla_bf = \nabla_b\nabla_af, ~ \forall f \in \mathscr{F}_M$
\end{enumerate}
\end{definition}

\begin{note}
\begin{enumerate}[（1）]
\item 条件（c）又可表为$\nabla \comp C = C \comp \nabla$，其中$C$代表缩并。今后将常写
$$\nabla_a(v^b\omega_b) = v^b\nabla_a\omega_b + \omega_b\nabla_av^b$$
一类的式子，这就要用到条件（c），因为上式的导出过程为
$$\begin{aligned}
\nabla_a(v^b\omega_b) & = \nabla_a[C(v^b\omega_c)] = C^1_2[\nabla_a(v^b\omega_c)] \\
& = C^1_2(v^b\nabla_a\omega_c) + C^1_2[(\nabla_av^b)\omega_c] = v^b\nabla_a\omega_b + \omega_b\nabla_av^b
\end{aligned}$$
\item 条件（d）左边的函数$v(f)$不宜记作$v^a(f)$，因$v^a(f)$易被误以为矢量场。
这是应写而不写抽象指标的少数例子之一。对条件（d）可用欧氏空间的$\vec{\nabla}$为例理解。
设$v^a$为欧氏空间中任一矢量场，其在笛卡尔系坐标基底的展开式为
$$v^a = v^1(\partial / \partial x)^a + v^2(\partial / \partial y)^a + v^3(\partial / \partial z)^a$$
则它对函数$f$的作用可表为
$$v(f) = v^1(\partial f / \partial x)^a + v^2(\partial f / \partial y)^a + v^3(\partial f / \partial z)^a = \vec{v}\cdot\vec{\nabla}f = v^a\nabla_af$$
可见条件（d）是这一性质对任意流形的推广。
\item 设$\nabla_a$是任一导数算符，则由条件（d）易证
$$\nabla_af = (\diff f)_a, ~ \forall f \in \mathscr{F}_M$$
其中，$(\diff f)_a$是函数$f$生成的对偶矢量场$\diff f$的抽象指标表示。
\item 条件（e）实质上是下式的抽象指标表述：
$$(\nabla\nabla f)(u, v) = (\nabla\nabla f)(v, u), ~ \forall u, v \in \mathscr{F}_M(1, 0)$$
亦即$\nabla\nabla f$是个对称的$(0, 2)$型张量。
\item 满足条件（a）～（d）而不满足条件（e）的导数算符叫\textbf{有挠导数算符}。广义相对论中只用无挠导数算符。
本书的$\nabla_a$在不加声明时一律代表无挠导数算符。
\end{enumerate}
\end{note}

任何流形必定存在满足上述定义的导数算符。事实上，导数算符不但存在，而且很多。下面讨论多到什么程度。
由$\nabla_af = (\diff f)_a$可知任意两个导数算符$\nabla_a$和$\tilde\nabla_a$作用于同一函数的结果相同，即
$$\nabla_af = \tilde\nabla_af = (\diff f)_a, ~ \forall f \in \mathscr{F}_M$$
可见$\nabla_a$与$\tilde\nabla_a$的不同只能体现在对非$(0, 0)$型张量场的作用上。先讨论$(0, 1)$型张量场（对偶矢量场）。
设在点$p \in M$给定一个对偶矢量$\mu_b \in V_p^*$，考虑$M$上的任意两个对偶矢量场$\omega_b, \omega'_b \in \mathscr{F}_M(0, 1)$，满足$\omega'_b|_p = \omega_b|_p = \mu_b$（$\omega_b$和$\omega'_b$称为$\mu_b$在$M$上的两个延拓）。
设$\nabla_a$为导数算符，则$\nabla_a\omega'_b|_p$与$\nabla_a\omega_b|_p$一般并不相同。这类似于以下事实：
两个一元函数$f(x)$和$f'(x)$在$x_0$点取值相同（$f'(x_0) = f(x_0)$）并不保证$(\diff f' /\diff x)|_{x_0} = (\diff f /\diff x)|_{x_0}$。
然而下面要证明，对$M$上任意两个导数算符$\nabla_a$和$\tilde\nabla_a$，只要$\omega'_b|_p = \omega_b|_p$就有
$$[(\tilde\nabla_a - \nabla_a)\omega'_b]_p = [(\tilde\nabla_a - \nabla_a)\omega_b]_p$$
其中$(\tilde\nabla_a - \nabla_a)\omega_b$是$\tilde\nabla_a\omega_b - \nabla_a\omega_b$的简写。

\begin{theorem}
设$p \in M, ~ \omega_b, \omega'_b \in \mathscr{F}(0, 1)$满足$\omega'_b|_p = \omega_b|_p$，则
$$[(\tilde\nabla_a - \nabla_a)\omega'_b]_p = [(\tilde\nabla_a - \nabla_a)\omega_b]_p$$
\end{theorem}

\begin{proof}
只须证明
$$[\nabla_a(\omega'_b - \omega_b)]_p = [\tilde\nabla_a(\omega'_b - \omega_b)]_p$$
设$\Omega_b \equiv \omega'_b - \omega_b$，选坐标系$\{x^\mu\}$使其坐标域含$p$，则$\omega'_b|_p = \omega_b|_p$导致$\Omega_\mu(p) = 0$，其中$\Omega_\mu$是$\Omega_b$的坐标分量。
于是对$p$点有
$$\begin{aligned}[]
[\nabla_a(\omega'_b - \omega_b)]_p & = [\nabla_a\Omega_b]_p = \{\nabla_a[\Omega_\mu(\diff x^\mu)_b]\}|_p \\
& = \Omega_\mu(p)[\nabla_a(\diff x^\mu)_b]_p + [(\diff x^\mu)_b\nabla_a\Omega_\mu]_p = [(\diff x^\mu)_b\nabla_a\Omega_\mu]_p
\end{aligned}$$
同理有$[\tilde\nabla_a(\omega'_b - \omega_b)]_p = [(\diff x^\mu)_b\tilde\nabla_a\Omega_\mu]_p$。又$[\nabla_a\Omega_\mu]_p = [\tilde\nabla_a\Omega_\mu]_p$，得证。
\end{proof}

虽然导数$[\nabla_a\omega_b]_p$和$[\tilde\nabla_a\omega_b]_p$依赖于$\omega_b$在$p$点的一个邻域内的值，然而上述定理表明$[(\tilde\nabla_a - \nabla_a)\omega_b]_p$只依赖于$\omega_b$在$p$点的值，这说明$(\tilde\nabla_a - \nabla_a)$是把$p$点的对偶矢量$\omega_b|_p$变为$p$点的$(0, 2)$型张量（$[(\tilde\nabla_a - \nabla_a)\omega_b]_p$）的线性映射
（给定$p$点的任一对偶矢量$\mu_b$，任选对偶矢量场$\omega_b$使它在$p$点的值$\omega_b|_p = \mu_b$，则$[(\tilde\nabla_a - \nabla_a)\omega_b]_p$便是$\mu_b$在该映射下的像。）。
所以$(\tilde\nabla_a - \nabla_a)$在$p$点对应于一个$(1, 2)$型张量$C^c{}_{ab}$，满足
$$[(\tilde\nabla_a - \nabla_a)\omega_b]_p = C^c{}_{ab}\omega_c|_p$$

因为$p$点可任选，所以$M$上的两个导数算符$\nabla_a$和$\tilde\nabla_a$在对$\omega_b$的作用上的差别体现为$M$上的一个$(1, 2)$型张量场$C^c{}_{ab}$，即
\begin{theorem}
$\nabla_a\omega_b = \tilde\nabla_a\omega_b - C^c{}_{ab}\omega_c, ~ \forall \omega_b \in \mathscr{F}(0, 1)$
\end{theorem}

$\nabla_a$的无挠性导致张量场$C^c{}_{ab}$的如下对称性：
\begin{theorem}
$C^c{}_{ab} = C^c{}_{ba}$
\end{theorem}

\begin{proof}
令$\omega_b = \nabla_bf = \tilde\nabla_bf$，其中$f \in \mathscr{F}_M$，则上式给出$\nabla_a\nabla_bf = \tilde\nabla_a\tilde\nabla_bf - C^c{}_{ab}\nabla_cf$。
交换指标$a$，$b$得$\nabla_b\nabla_af = \tilde\nabla_b\tilde\nabla_af - C^c{}_{ba}\nabla_cf$。
两式相减，注意到无挠性条件，便有$C^c{}_{ab}\nabla_cf = C^c{}_{ba}\nabla_cf$。
令$T^c{}_{ab} \equiv C^c{}_{ab} - C^c{}_{ba}$，则对所有的$f \in \mathscr{F}_M$有$T^c{}_{ab}\nabla_cf = 0$，于是$T^c{}_{ab}$在任一坐标基底的分量$T^\sigma{}_{\mu\nu} = T^c{}_{ab}(\diff x^\sigma)_c(\partial / \partial x^\mu)_a(\partial / \partial x^\nu)_b = 0$（其中第二步是因为$T^c{}_{ab}(\diff x^\sigma)_c = T^c{}_{ab}\nabla_cx^\sigma = 0$（把$x^\sigma$看作$f$）），因而$T^c{}_{ab} = 0$。
\end{proof}

\begin{theorem}
$\nabla_av^b = \tilde\nabla_av^b + C^b{}_{ac}v^c, ~ \forall v^b \in \mathscr{F}_M(1, 0)$
\end{theorem}

\begin{proof}
设$\omega_b$为$M$上任一对偶矢量场，则
$$\nabla_a(\omega_bv^b) = \omega_b\nabla_av^b + v^b\nabla_a\omega_b = \omega_b\nabla_av^b + v^b(\tilde\nabla_a\omega_b - C^c{}_{ab}\omega_c)$$
另一方面，$\tilde\nabla_a(\omega_bv^b) = \omega_b\tilde\nabla_av^b + v^b\tilde\nabla_a\omega_b$。
而$\omega_bv^b$为标量场，故$\nabla_a(\omega_bv^b) = \tilde\nabla_a(\omega_bv^b)$，故以上两式右边相等，因而得
$$\omega_b\nabla_av^b = \omega_b\tilde\nabla_av^b + C^c{}_{ab}v^b\omega_c = \omega_b\tilde\nabla_av^b + C^b{}_{ac}v^c\omega_b, ~ \forall \omega_b \in \mathscr{F}_M(0, 1)$$
于是有定理结论。
\end{proof}

用类似方法可以证明$\nabla_a$与$\tilde\nabla_a$作用于任一$(k, l)$型张量场$T^{a_1 \cdots a_k}{}_{b_1 \cdots b_l}$所得结果之差$\nabla_aT^{a_1 \cdots a_k}{}_{b_1 \cdots b_l} - \tilde\nabla_aT^{a_1 \cdots a_k}{}_{b_1 \cdots b_l}$可表为$k + l$项，每项都含$C^c{}_{ab}$，与$T$的某一上指标缩并的$k$项前面为$+$号，与$T$的某一下指标缩并的$l$项前面为$-$号，例如
$$\nabla_aT^b{}_{c} = \tilde\nabla_aT^b{}_{c} + C^b{}_{ad}T^d{}_{c} - C^d{}_{ac}T^b{}_{d}$$
一般形式见下面的定理：
\begin{theorem}
$$\nabla_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} = \tilde\nabla_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l} + \sum_iC^{b_i}{}_{ad}T^{b_1 \cdots d \cdots b_k}{}_{c_1 \cdots c_l} - \sum_jC^d{}_{ac_j}T^{b_1 \cdots b_k}{}_{c_1 \cdots d \cdots c_l}, ~ \forall T \in \mathscr{F}_M(k, l)$$
\end{theorem}

上述定理表明任意两个导数算符的差别仅体现在一个张量场$C^c{}_{ab}$上。
反之也不难验证，任给一个导数算符$\tilde\nabla_a$和一个下标对称的光滑张量场$C^c{}_{ab}$，由上式定义的$\nabla_a$必满足导数算符的全部条件，因而也是一个导数算符。
可见流形上只要有一个导数算符就会有许多导数算符。
选定导数算符$\nabla_a$后的流形$M$可记作$(M, \nabla_a)$，它比$M$本身有更多结构（$\nabla_a$提供附加结构），例如可谈及矢量沿曲线的平移及$(M, \nabla_a)$的曲率。

设$\{x^\mu\}$是$M$的一个坐标系，其坐标基底和对偶坐标基底分别为$\{(\partial / \partial x^\mu)^a\}$和$\{(\diff x^\mu)_a\}$。
在坐标域$O$上定义映射$\partial_a \colon \mathscr{F}_O(k, l) \to \mathscr{F}_O(k, l + 1)$如下（仅以$T^b{}_c \in \mathscr{F}_O(1, 1)$为例写出）：
$$\partial_aT^b{}_c := (\diff x^\mu)_a(\partial / \partial x^\nu)^b(\diff x^\sigma)_c\partial_\mu T^\nu{}_\sigma$$
其中$T^\nu{}_\sigma$是$T^b{}_c$在该坐标系的分量，$\partial_\mu$是对坐标$x^\mu$求偏导数的符号$\partial / \partial x^\mu$的简写。
不难验证$\partial_a$满足导数算符定义的$5$个条件，可见$\partial_a$是$O$上的一个导数算符。
这是一个从定义起就依赖于坐标系的导数算符，而且只在该坐标系的坐标域上有定义，称为该坐标系的\textbf{普通导数算符}。
上式表明$\partial_\mu T^\nu{}_\sigma$是张量场$\partial_aT^b{}_c$在该坐标系的分量，所以$\partial_a$的定义亦可表为：
张量场$T^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}$的普通导数$\partial_aT^{b_1 \cdots b_k}{}_{c_1 \cdots c_l}$的坐标分量等于该张量场的坐标分量对坐标的偏导数$\partial(T^{\nu_1 \cdots \nu_k}{}_{\sigma_1 \cdots \sigma_l}) / \partial x^\mu$。
由此易见：

\begin{enumerate}[（1）]
\item 任一坐标系的$\partial_a$作用于该系的任一坐标基矢和任一对偶坐标基矢结果为零\footnote{
例如，第$\nu$坐标基矢$(\partial / \partial x^\nu)$的第$\sigma$坐标分量为$(\partial / \partial x^\nu)^\sigma \equiv (\partial / \partial x^\nu)^b(\diff x^\sigma)_b = \delta^\sigma{}_\nu$，故其偏导数为零。
}，即
$$\partial_a(\partial / \partial x^\nu)^b = 0, ~ \partial_a(\diff x^\nu)_b = 0$$
\item $\partial_a$满足比导数算符的无挠性条件强得多的条件，即
$$\partial_a\partial_bT^{\cdots}{}_{\cdots} = \partial_b\partial_aT^{\cdots}{}_{\cdots}, ～ \text{或} \partial_{[a}\partial_{b]}T^{\cdots}{}_{\cdots} = 0$$
其中$T^{\cdots}{}_{\cdots}$是任意型张量场。\footnote{
任意型张量场的坐标分量都是标量场（即$n$元函数），故求偏导数的结果与求导顺序无关。
}
\end{enumerate}

$\partial_a$虽可看作$\nabla_a$的特例，但其定义依赖于坐标系。
我们把与坐标系（或其他人为因素）无关的那些$\nabla_a$称为\textbf{协变导数算符}，$\partial_a$不在此列。

\begin{definition}
设$\partial_a$是$(M, \nabla_a)$上任给的坐标系的普通导数算符，则体现$\nabla_a$与$\partial_a$的差别的张量场$C^c{}_{ab}$（把$\partial_a$看作$\tilde\nabla_a$）称为$\nabla_a$在该坐标系的\textbf{克氏符}（Christoffel symbol），记作$\Gamma^c{}_{ab}$。
\end{definition}

\begin{note}
一般书强调克氏符不是张量，本书却说它是张量。这没有实质性矛盾，只是克氏符的定义有微妙的不同。
不用抽象指标的书把克氏符定义为与坐标系有关的一堆数，在坐标变换下不服从张量变换律，故不构成张量。
我们一开始就用映射语言把克氏符$\Gamma^c{}_{ab}$定义为张量，但因它与$\partial_a$相应，而$\partial_a$依赖于坐标系，故克氏符是依赖于坐标系的张量（坐标系改变时张量\CJKunderdot{本身}要变）。
设$\nabla_a$是$M$上指定的导数算符，$\{x^\mu\}$和$\{x'^\mu\}$是$M$上的两个坐标系，坐标域之交为$U$，$\nabla_a$在两系中的克氏符分别为$\Gamma^c{}_{ab}$和$\bar\Gamma^c{}_{ab}$，
它们（在$U$中）既可用$\{x^\mu\}$系也可用$\{x'^\mu\}$系求分量，设$\Gamma^c{}_{ab}$在$\{x^\mu\}$和$\{x'^\mu\}$系的分量为$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\Gamma'^\sigma{}_{\mu\nu}\}$（这两堆数当然满足张量变换律），
$\bar\Gamma^c{}_{ab}$在$\{x^\mu\}$和$\{x'^\mu\}$系的分量为$\{\bar\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$（也满足张量变换律），但$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$不满足张量变换律。
而一般书恰恰是把$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$分别定义为$\{x^\mu\}$系和$\{x'^\mu\}$系的克氏符，自然不构成张量。
一般书强调``克氏符不是张量''是对的，本书则应强调``克氏符是\CJKunderdot{坐标系依赖}的张量''。
只要采用抽象指标并按照上述思路讨论（包括使用``张量面面观''的优雅论辩），自然要承认反映两个导数算符$\nabla_a$与$\tilde\nabla_a$之差的$C^c{}_{ab}$是张量。
在$M$指定了一个导数算符$\nabla_a$的前提下，选定坐标系就有导数算符$\partial_a$，把$\partial_a$看作$\tilde\nabla_a$，则反映$\nabla_a$与$\partial_a$之差的$C^c{}_{ab}$（此时记作$\Gamma^c{}_{ab}$）当然是张量。
然而与此同时应该强调$\Gamma^c{}_{ab}$是坐标系依赖的张量（有多少个坐标系就有多少个不同的$\partial_a$，因而有多少个不同的$\Gamma^c{}_{ab}$。）。
这种强调的实质就是在强调一般书所强调的``克氏符不是张量''。两种强调只是同一问题的两种提法。重要的不在于提法而在于充分注意问题的实质，即切记两组分量$\{\Gamma^\sigma{}_{\mu\nu}\}$和$\{\bar\Gamma'^\sigma{}_{\mu\nu}\}$之间不遵守张量变换律。
\end{note}

类似地，设$v^b$是矢量场，则$\partial_av^b$也是坐标系依赖的张量场，把$\partial_av^b$在$\partial_a$所在坐标系展开：
$$\partial_av^b = (\diff x^\mu)_a(\partial / \partial x^\nu)^bv^\nu{}_{,\mu}$$
其中$v^\nu{}_{,\mu} \equiv \partial_\mu v^\nu \equiv \partial v^\nu / \partial x^\mu$（逗号代表求偏导数），一般书强调$v^\nu{}_{,\mu}$不构成张量，我们说$\partial_av^b$是坐标系依赖的张量，也是同一问题的两种提法。
说得更具体些，设$\partial_a$和$\partial'_a$分别是坐标系$\{x^\mu\}$和$\{x'_\mu\}$的普通导数算符，则一般有$\partial_av^b \neq \partial'_av^b$（所以说$\partial_av^b$是坐标系依赖的张量）。
把$\partial_av^b$和$\partial'_av^b$在各自坐标基底展开：
$$\partial_av^b = (\diff x^\mu)_a(\partial / \partial x^\nu)^bv^\nu{}_{,\mu}， ～ \partial'_av^b = (\diff x'^\mu)_a(\partial / \partial x'^\nu)^bv'^\nu{}_{,\mu}$$
其中$v'^\nu{}_{,\mu} \equiv \partial v'^\nu / \partial x'^\mu$，则$\partial_av^b \neq \partial'_av^b$导致$v^\nu{}_{,\mu}$与$v'^\nu{}_{,\mu}$之间一般不满足张量分量变换律。
所以一般书说$v^\nu{}_{,\mu}$不是张量。至于$\nabla_av^b$，则是与坐标系无关的张量，它在坐标系中的分量通常记为$v^\nu{}_{;\mu}$，即$\nabla_av^b = v^\nu{}_{;\mu}(\diff x^\mu)_a(\partial / \partial x^\nu)^b$。
由于$\nabla_av^b$与坐标系无关，$v^\nu{}_{;\mu}$满足张量变换律，故一般书说它是张量（其实是张量的分量），并称之为$v^\nu$的\textbf{协变导数}（其实是协变导数$\nabla_av^b$的坐标分量）。
类似地，$\nabla_a\omega_b$的坐标分量$\omega_{\nu;\mu}$也被称为$\omega_\nu$的协变导数。

\begin{theorem}
$v^\nu{}_{;\mu} = v^\nu{}_{,\mu} + \Gamma^\nu{}_{\mu\sigma}v^\sigma, ~ \omega_{\nu;\mu} = \omega_{\nu,\mu} - \Gamma^\sigma{}_{\mu\nu}\omega_\sigma$

其中$v^\nu$及$\omega_\nu$为任意矢量场和对偶矢量场在任一坐标基底的分量，$\Gamma^\nu{}_{\mu\sigma}$是该系的克氏符$\Gamma^b{}_{ac}$在该基底的分量（一般书的说法是``$\Gamma^\nu{}_{\mu\sigma}$是该系的克氏符''，本书后面为简单起见也常用这一说法。）。
\end{theorem}

\begin{theorem}
导数算符定义中与缩并可交换顺序的条件等价于
$$\nabla_a\delta^b{}_c = 0$$
其中$\delta^b{}_c$看作$(1, 1)$型张量场，其在每点$p \in M$的定义为$\delta^b{}_cv^c = v^b, ~ \forall v^c \in V_p$。
\end{theorem}

流形$M$上矢量场对易子$[u, v]^a$的定义无需$M$有附加结构，但该式的不方便之处在于它不能脱离被作用对象（标量场$f$）。
现在，在有了导数算符的概念之后，就可借助于随便一个导数算符$\nabla_a$写出矢量场对易子$[u, v]^a$的显表达式，见如下定理：
\begin{theorem}
$[u, v]^a = u^b\nabla_bv^a - v^b\nabla_bu^a$

其中$\nabla_b$是\CJKunderdot{任一}无挠导数算符。
\end{theorem}

\begin{proof}
对所有$f \in \mathscr{F}$有
$$\begin{aligned}[]
[u, v](f) & = u(v(f)) - v(u(f)) = u^b\nabla_b(v^a\nabla_af) - v^b\nabla_b(u^a\nabla_af) \\
& = u^b(\nabla_bv^a)\nabla_af + u^bv^a\nabla_b\nabla_af - v^b(\nabla_bu^a)\nabla_af - v^bu^a\nabla_b\nabla_af \\
& = (u^b\nabla_bv^a - v^b\nabla_bu^a)\nabla_af
\end{aligned}$$
而$[u, v](f) = [u, v]^a\nabla_af$，证毕。
\end{proof}

\begin{note}
取任一坐标系$\{x^\mu\}$的普通导数算符$\partial_b$作为上式的$\nabla_b$，便有
$$[u, v]^\mu = (\diff x^\mu)_a[u, v]^a = u^\nu\partial_\nu v^\mu - v^\nu\partial_\nu u^\mu$$
\end{note}

\section{矢量场沿曲线的导数和平移}

\subsection{矢量场沿曲线的平移}
在流形$M$上选定一个导数算符$\nabla_a$后，就有矢量沿曲线平移的概念。

\begin{definition}
设$v^a$是沿曲线$C(t)$的矢量场。
$v^a$称为\textbf{沿$C(t)$平移}的，若$T^b\nabla_bv^a = 0$，其中$T^a \equiv (\partial / \partial t)^a$是曲线的切矢。
\end{definition}

正如$T^a\nabla_af = T(f)$可解释为函数$f$沿$T^a$（即沿$C(t)$）的导数那样，$T^b\nabla_av^b$可解释为矢量场$v^a$沿$T^b$的导数。
于是上述定义也可解释为：$v^a$沿$C(t)$平移的充要条件是它沿$T^b$的导数为零。

\begin{theorem}
设曲线$C(t)$位于坐标系$\{x^\mu\}$的坐标域内，曲线的参数式为$x^\mu(t)$。
令$T^a \equiv (\partial / \partial t)^a$，则沿$C(t)$的矢量场$v^a$满足
$$T^b\nabla_bv^a = (\partial / \partial x^\mu)^a(\diff v^\mu / \diff t + \Gamma^\mu{}_{\nu\sigma}T^\nu v^\sigma)$$
\end{theorem}

\begin{proof}
以$\partial_a$代表坐标系$\{x^\mu\}$的普通导数算符，则
$$\begin{aligned}
T^b\nabla_bv^a & = T^b(\partial_bv^a + \Gamma^a{}_{bc}v^c) = T^b[(\diff x^\nu)_b(\partial / \partial x^\mu)^a\partial_\nu v^\mu + \Gamma^a{}_{bc}v^c] \\
& = T^\nu(\partial / \partial x^\mu)^a(\partial v^\mu / \partial x^\nu) + \Gamma^a{}_{bc}T^bv^c = (\partial / \partial x^\mu)^a[T^\nu(\partial v^\mu / \partial x^\nu) + \Gamma^\mu{}_{\nu\sigma}T^\nu v^\sigma]
\end{aligned}$$
其中$T^\nu$是曲线切矢$T^b$的坐标分量。又$T^\nu = \diff x^\nu(t) / \diff t$，故
$$T^\nu(\partial v^\mu / \partial x^\nu) = [\diff x^\nu(t) / \diff t][\partial v^\mu(t(x)) / \partial x^\nu] = \diff v^\nu(t) / \diff t$$
证毕。
\end{proof}

\begin{theorem}
曲线上一点$C(t_0)$及该点的一个矢量决定唯一的沿曲线平移的矢量场。
\end{theorem}

\begin{proof}
若存在把整条曲线含于其坐标域内的坐标系，则由前述定理可知平移定义$T^b\nabla_bv^a = 0$等价于
$$\diff v^\nu / \diff t + \Gamma^\mu{}_{\nu\sigma}T^\nu v^\sigma = 0, ~ \mu = 1, \cdots, n$$
这是关于$n$个待求函数$v^\mu(t)$的$n$个一阶常微分方程（注意$\Gamma^\mu{}_{\nu\sigma}$及$T^\nu$均为$t$的已知函数），而给定$C(t_0)$点的一个矢量就是给定初始条件$v^\nu(t_0)$，故有唯一解$v^\nu(t)$。
使用``接力法''不难把上述证明推广至曲线不能被一个坐标域覆盖的情况。
\end{proof}

设$p, q \in M$，则$V_p$和$V_q$是两个矢量空间，两者的元素无法比较。
但若有一曲线$C(t)$联接$p, q$，就可用下法定义一个由$V_p$到$V_q$的映射：
对所有的$v^a \in V_p$，由上述定理知在$C(t)$上有唯一的平移矢量场（其在$p$点的值为$v^a$），它在$q$点的值就定义为$v^a$的像。
注意，这是一个曲线依赖的映射，另选一条联接$p, q$的曲线，$v^a$的像可能不同。
然而，无论如何，$\nabla_a$的存在毕竟使原来毫无联系的$V_p$与$V_q$发生了某种联系（虽然曲线依赖），因此也把$\nabla_a$叫做\textbf{联络}。

为什么说$\nabla_a$是$3$维欧氏空间中熟知的$\vec{\nabla}$在一般流形上的某种推广？
为什么把$T^b\nabla_bv^a$解释为$v^a$沿$T^b$的导数？
为什么把满足$T^b\nabla_bv^a = 0$的$v^a$称为沿曲线平移的矢量场？
下面我们就来回答这些问题。

\subsection{与度规相适配的导数算符}
从本章开始至今未涉及度规，只假定$M$上选了一个联络$\nabla_a$。
如果$M$上还指定了度规$g_ab$，矢量之间就可以谈及内积。
为使平移概念与欧氏空间中熟知的平移一致，应补充以下要求：
设$u^a$，$v^a$为沿$C(t)$平移的矢量场，则$u^av_a$（$\equiv g_{ab}u^av^b$）在$C(t)$上是常数（两个矢量平移时``内积''不变）。
设$T^a$为曲线$C(t)$的切矢，则这一要求等价于
$$0 = T^c\nabla_c(g_{ab}u^av^b) = g_{ab}u^aT^c\nabla_cv^b + g_{ab}v^bT^c\nabla_cu^a + u^av^bT^c\nabla_cg_{ab} = u^av^bT^c\nabla_cg_{ab}$$
上式对所有曲线以及沿它平移的任意两个矢量场$u^a$，$v^a$成立的充要条件为
$$\nabla_cg_{ab} = 0$$
没有度规时，$\nabla_c$的选择非常任意。指定度规后，选$\nabla_c$时就宜满足附加要求$\nabla_cg_{ab} = 0$。
下面证明这一要求决定了唯一的$\nabla_a$。

\begin{theorem}
流形$M$上选定度规场$g_{ab}$后，存在唯一的$\nabla_a$使$\nabla_ag_{bc} = 0$。
\end{theorem}

\begin{proof}
设$\tilde\nabla_a$为任一导数算符，欲求适当的$C^c{}_{ab}$使它与$\tilde\nabla_a$决定的$\nabla_a$满足$\nabla_ag_{bc} = 0$。
已知$$\nabla_ag_{bc} = \tilde\nabla_ag_{bc} - C^d{}_{ab}g_{dc} - C^d{}_{ac}g_{bd} = \tilde\nabla_ag_{bc} - C_{cab} - C_{bac}$$
故由$\nabla_ag_{bc} = 0$得$$C_{cab} + C_{bac} = \tilde\nabla_ag_{bc}$$
同理有\begin{gather*}
C_{cba} + C_{abc} = \tilde\nabla_bg_{ac} \\
C_{bca} + C_{acb} = \tilde\nabla_cg_{ab}
\end{gather*}
前两式相加减第三式并利用$C_{cab} = C_{cba}$，得
$$2C_{cab} = \tilde\nabla_ag_{bc} + \tilde\nabla_bg_{ac} - \tilde\nabla_cg_{ab}$$
或
$$C^c_{ab} = \frac{1}{2}g^{cd}(\tilde\nabla_ag_{bd} + \tilde\nabla_bg_{ad} - \tilde\nabla_dg_{ab})$$
这$C^c_{ab}$与$\tilde\nabla_a$结合而得的$\nabla_a$便是方程$\nabla_ag_{bc} = 0$的解。
这必定是唯一解，因若$\nabla'_a$也满足$\nabla'_ag_{bc} = 0$，把$\nabla'_a$作为上式中的$\tilde\nabla_a$便知反映$\nabla_a$与$\nabla'_a$差别的$C^c{}_{ab}$为零。
\end{proof}

满足$\nabla_ag_{bc} = 0$的$\nabla_a$称为\textbf{与$g_{ab}$适配（或相容）的导数算符}。
今后如无声明，在有$g_{ab}$时谈到$\nabla_a$都是指与$g_{ab}$适配的导数算符。
可以证明，$\nabla_ag_{bc} = 0$保证$\nabla_ag^{bc} = 0$（反之亦然）。这为计算带来很大方便。

\begin{example}
欧氏空间存在无数满足定义的导数算符，但与欧式度规$\delta_{ab}$相适配的导数算符只有一个，这就是笛卡尔坐标系$\{x^\mu\}$的普通导数算符$\partial_a$（所有笛卡尔系的$\partial_a$都相同）,因为由$\delta_{ab}$的定义式得$\partial_c\delta_{ab} = (\diff x^\sigma)_c(\diff x^\mu)_a(\diff x^\nu)_b\partial_\sigma\delta_{\mu\nu} = 0$。
对$3$维欧氏空间，笛卡尔坐标系的$\partial_a$就是普通矢量场论中熟知的$\vec{\nabla}$。
\end{example}

设$\nabla_a$与$g_{bc}$相适配，取$\tilde\nabla_a$为任一坐标系的$\partial_a$，则前述定理中的$C^c{}_{ab}$便是$\nabla_a$在该坐标系的克氏符$\Gamma^c{}_{ab}$，由该定理不难推得$\Gamma^c{}_{ab}$在该系的分量$\Gamma^\sigma{}_{\mu\nu}$的如下表达式:
$$\Gamma^\sigma{}_{\mu\nu} = \frac{1}{2}g^{\sigma\rho}(g_{\rho\mu,\nu} + g_{\nu\rho,\mu} - g_{\mu\nu,\rho})$$
推导如下：把$\partial_a$看作前述定理中的$\tilde\nabla_a$，则式中的$C^c{}_{ab}$就是$\Gamma^c{}_{ab}$，故
$$\Gamma^c{}_{ab} = \frac{1}{2}g^{cd}(\partial_ag_{bd} + \partial_bg_{ad} - \partial_dg_{ab})$$
$$\begin{aligned}
\Gamma^\sigma{}_{\mu\nu} & = \Gamma^c{}_{ab}(\diff x^\sigma)_c(\partial / \partial x^\mu)^a(\partial / \partial x^\nu)^b \\
& = \frac{1}{2}(\diff x^\sigma)_c(\partial / \partial x^\mu)^a(\partial / \partial x^\nu)^bg^{cd}(\partial_ag_{bd} + \partial_bg_{ad} - \partial_dg_{ab}) \\
& = \frac{1}{2}(\partial / \partial x^\mu)^a(\partial / \partial x^\nu)^bg^{\sigma\rho}(\partial_ag_{b\rho} + \partial_bg_{a\rho} - \partial_\rho g_{ab}) \\
& = \frac{1}{2}g^{\sigma\rho}(\partial_\mu g_{\nu\rho} + \partial_\nu g_{\mu\rho} - \partial_\rho g_{\mu\nu}) \\
& = \frac{1}{2}g^{\sigma\rho}(g_{\nu\rho,\mu} + g_{\mu\rho,\nu} - g_{\mu\nu,\rho})
\end{aligned}$$
利用对称性$g_{ab} = g_{ba}$不难看出这就是要推的结果。
此式与
$v^\nu{}_{;\mu} = v^\nu{}_{,\mu} + \Gamma^\nu{}_{\mu\sigma}v^\sigma, ~ \omega_{\nu;\mu} = \omega_{\nu,\mu} - \Gamma^\sigma{}_{\mu\nu}\omega_\sigma$
结合可方便地求得矢量场$v^a$和对偶矢量场$\omega_a$的协变导数$\nabla_av^b$和$\nabla_a\omega_b$的坐标分量$v^\nu{}_{;\mu}$和$\omega_{\nu;\mu}$。

\begin{note}
$\Gamma^\sigma{}_{\mu\nu}$既依赖于$M$上选定的$\nabla_a$又依赖于坐标系。
若$M$有度规$g_{ab}$，则不加声明时$\nabla_a$就是指同$g_{ab}$适配的导数算符，而``某系的克氏符''就是指这个$\nabla_a$在该系的克氏符。
例如，谈到$3$维欧氏空间中某坐标系的克氏符时，指的就是同欧氏度规相适配的$\nabla_a$（即笛卡尔系的$\partial_a$）在该系的克氏符。
一个笛卡尔系的$\partial_a$在任一笛卡尔系的克氏符显然为零。
\end{note}

设$\vec{T}$是$3$维欧氏空间的矢量场，则$\vec{T}\cdot\vec{\nabla}f$是梯度$\vec{\nabla}f$在$\vec{T}$方向的分量，即$f$沿$\vec{T}$方向的导数。
另一方面，由导数算符的条件（d）有$T^a\partial_af = T(f)$，而右边正是$f$沿$T^a$的导数。可见$T^a\partial_af = \vec{T}\cdot\vec{\nabla}f$。
进一步的问题是：$T^b\partial_bv^a$代表什么？答案自然是$v^a$沿$T^a$的导数。详见下节。

\subsection{矢量场沿曲线的导数与沿曲线的平移的关系}

先讨论最简单的特例，即欧氏空间。欧氏空间有一类特殊坐标系（笛卡尔系），用它可定义矢量的绝对（非曲线依赖）平移。

\begin{definition}
欧氏空间中$p$点的矢量$\vec{\tilde{v}}$称为$q$点的矢量$\vec{v}$\textbf{平移}至$p$点的结果，若两者在同一笛卡尔系的分量相等（注：对某一笛卡尔系为平移则对任意笛卡尔系也为平移）。
\end{definition}

\begin{definition}
欧氏空间中曲线$C(t)$上的矢量场$\vec{v}$沿线的导数$\diff\vec{v} / \diff t$定义为
$$\left.\frac{\diff \vec{v}}{\diff t}\right|_p := \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\vec{\tilde v}|_p - \vec{v}|_p) ~ \forall p \in C(t)$$
其中$\vec{\tilde v}|_p$是把$\vec{v}|_q$（$q$为$p$在线上的邻点）平移至$p$点的结果，$\Delta t \equiv t(q) - t(p)$。
\end{definition}

现在证明$\diff \vec{v} / \diff t$在抽象指标记号中就是$T^b\partial_bv^a$（其中$T^b$是$C(t)$的切矢，$\partial_b$是笛卡尔系的普通导数算符。），为此只须证明两者在笛卡尔系$\{x^i\}$的分量相等：
$$T^b\partial_bv^a\text{的第$i$分量} = T^b\partial_bv^a(\diff x^i)_a = T^b\partial_bv^i = T(v^i) = \diff v^i / \diff t$$
另一方面，由上述定义可知
$$\left.\frac{\diff \vec{v}}{\diff t}\right|_p\text{的第$i$分量} = \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\tilde v^i|_p - v^i|_p) = \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\tilde v^i|_q - v^i|_p) = \left.\frac{\diff v^i}{\diff t}\right|_p$$
（最后一步无非是函数$v^i(t)$的导数的定义）对比两式可见
$$\diff\vec{v} / \diff t = T^b\nabla_bv^a$$
推广到带任意$\nabla_a$的任意流形$M$的任意曲线$C(t)$，便自然地把$T^b\nabla_bv^a$称为$v^a$沿$T^b$（或沿$C(t)$）的导数。有时也用记号$\Diff v^a / \diff t$代表这一导数，即
$$\Diff v^a / \diff t \equiv T^b\nabla_bv^a$$
然而上述绝对平移的定义不能推广到带有任意联络$\nabla_a$的任意流形$(M, \nabla_a)$。
后面我们将介绍流形的内禀曲率概念（并将看到欧氏和闵氏空间的内禀曲率为零），还将指出只有内禀曲率为零的空间才有绝对的（即与曲线无关的）平移概念。
不过，鉴于欧氏空间中$\diff\vec{v} / \diff t = 0$与$\vec{v}$沿$C(t)$平移等价（见上述定义），可以自然地把$T^b\nabla_bv^a = 0$作为$(M, \nabla_a)$中曲线$C(t)$上的矢量场$v^a$的平移定义，这就解释了本节一开始给出的平移定义提出的动机（但应特别注意这样定义的平移一般是曲线依赖的）。
在这种讲法中，我们是先定义$v^a$沿曲线的导数$T^b\nabla_bv^a$再用它定义$v^a$沿曲线的平移（与欧氏空间的顺序相反）。
由于$v^a$沿曲线的导数$T^b\nabla_bv^a$毕竟比较抽象，在有了曲线依赖的平移概念后，借用平移这一术语反过来对$T^b\nabla_bv^a$作一解释是有益的。
这一解释的实质就是上述定义所表达的含义，见如下定理。

\begin{theorem}
设$v^a$是$(M, \nabla_a)$的曲线$C(t)$上的矢量场，$T^b$是$C(t)$的切矢，$p, q$是$C(t)$上的邻点，则
$$T^b\nabla_bv^a|_p = \lim_{\Delta t \to 0}\frac{1}{\Delta t}(\tilde v^a|_p - v^a|_p)$$
其中$\Delta t \equiv t(q) - t(p)$，$\tilde v^a|_p$是$v^a|_q$沿$C(t)$平移至$p$点的结果。
\end{theorem}

\section{测地线}

\begin{definition}
$(M, \nabla_a)$上的曲线$\gamma(t)$叫测地线，若其切矢$T^a$满足$T^b\nabla_bT^a = 0$。
\end{definition}

\begin{note}
\textcircled{1} 可见测地线的充要条件是其切矢沿曲线平移。
\textcircled{2} $T^b\nabla_bT^a = 0$称为测地线方程。
\textcircled{3} 设流形$M$上有度规场$g_{ab}$，则$(M, g_{ab})$的测地线是指$(M, \nabla_a)$的测地线，其中$\nabla_a$与$g_{ab}$适配。
\end{note}

设测地线$\gamma(t)$位于某坐标系的坐标域内，则以$T^a$代替上节第一个定理中的$v^a$便得
$$\frac{\diff T^\mu}{\diff t} + \Gamma^\mu{}_{\nu\sigma}T^\nu T^\sigma = 0, ~ \mu = 1, \cdots, n$$
设$x^\nu = x^\nu(t)$是测地线$\gamma(t)$的参数式，则$T^\mu = \diff x^\mu / \diff t$，故上式可改写为
$$\frac{\diff^2x^\mu}{\diff t^2} + \Gamma^\mu{}_{\nu\sigma}\frac{\diff x^\nu}{\diff t}\frac{\diff x^\sigma}{\diff t} = 0, ~ \mu = 1, \cdots, n$$
这就是测地线方程的坐标分量表达式。

\begin{example}
欧（闵）氏度规在笛卡尔（洛伦兹）系的克氏符为零，测地线方程的通解为$x^\mu(t) = a^\mu t + b^\mu$（其中$a^\mu, b^\mu$是常数）。
如果把欧（闵）氏空间中在笛卡尔（洛伦兹）系的参数式为$x^\mu(t) = a^\mu t + b^\mu$的曲线称为直线（段），欧（闵）氏空间的测地线便同义于直线（段）。
可见测地线可看作欧氏空间直线概念向广义黎曼空间的推广。
\end{example}

\begin{example}
设$S^2$是$3$维欧氏空间的$2$维球面，以球心为原点建球坐标系，则$3$维欧氏线元为$\diff s^2 = \diff r^2 + r^2(\diff \theta^2 + \sin^2\theta\diff\varphi^2)$。
若元线段躺在$S^2$上，则$r = R$（球半径）导致$\diff r = 0$，故球面上的``诱导线元''（称为标准球面线元）为$\diff\hat{s}^2 = R^2(\diff \theta^2 + \sin^2\theta\diff\varphi^2)$，就是说，$3$维欧氏度规$\delta_{ab}$在球面$S^2$上诱导出$2$维度规$g_{ab}$，其在坐标基底$\{(\partial / \partial\theta)^a, (\partial / \partial\varphi)^a\}$的分量为$g_{\theta\theta} = R^2, g_{\varphi\varphi} = R^2\sin^2\theta, g_{\theta\varphi} = g_{\varphi\theta} = 0$。
从测地线方程的坐标分量表达式出发可以证明，以这个度规衡量，球面上的曲线为测地线当且仅当它是大圆弧（并配以适当的参数化）。
\end{example}

\begin{theorem}
设$\gamma(t)$为测地线，则其重参数化$\gamma'(t')[= \gamma(t)]$的切矢$T'^a$满足
$$T'^b\nabla_bT'^a = \alpha T'^a\text{（$\alpha$为$\gamma(t)$上的某个函数）}$$
\end{theorem}

\begin{proof}
$$T^a = \left(\frac{\partial}{\partial t}\right)^a = \left(\frac{\partial}{\partial t'}\right)^a\frac{\diff t'}{\diff t} = \frac{\diff t'}{\diff t}T'^a$$
$$0 = T^b\nabla_bT^a = \frac{\diff t'}{\diff t}T'^b\nabla_b\left(\frac{\diff t'}{\diff t}T'^a\right) = \left(\frac{\diff t'}{\diff t}\right)^2T'^b\nabla_bT'^a + T'^a\frac{\diff t'}{\diff t}T'^b\nabla_b\left(\frac{\diff t'}{\diff t}\right)$$
右边第二项$= T'^a\frac{\diff t'}{\diff t}\frac{\diff}{\diff t'}\left(\frac{\diff t'}{\diff t}\right) = T'^a\frac{\diff^2t'}{\diff t^2}$，故$T'^b\nabla_bT'^a = -\left(\frac{\diff t}{\diff t'}\right)^2\frac{\diff^2t'}{\diff t^2}T'^a$。
令$\alpha \equiv -\left(\frac{\diff t}{\diff t'}\right)^2\frac{\diff^2t'}{\diff t^2}$，得证。
\end{proof}

\begin{theorem}
设曲线$\gamma(t)$的切矢$T^a$满足$T^b\nabla_bT^a = \alpha T^a$（$\alpha$为$\gamma(t)$上的函数），则存在$t' = t'(t)$使得$\gamma'(t')[= \gamma(t)]$为测地线。
\end{theorem}

\begin{definition}
能使曲线成为测地线的参数叫该曲线的仿射参数。
\end{definition}

\begin{note}
有时也把满足$T^b\nabla_bT^a = \alpha T^a$的曲线叫测地线。
不过，为避免混淆，最好称之为``非仿射参数化的测地线''。
\end{note}

\begin{theorem}
若$t$是某测地线的仿射参数，则该线的任一参数$t'$是仿射参数的充要条件为$t' = at +b$（其中$a, b$为常数且$a \neq 0$）。
\end{theorem}

\begin{theorem}
流形$M$的一点$p$及$p$点的一个矢量$v^a$决定唯一的测地线$\gamma(t)$，满足
\begin{enumerate}[（1）]
\item $\gamma(0) = p$；
\item $\gamma(t)$在$p$点的切矢等于$v^a$。
\end{enumerate}
\end{theorem}

\begin{proof}
任取一坐标系$\{x^\mu\}$使坐标域含$p$，则测地线方程的坐标分量表达式可看作关于$n$个待求函数$x^\mu(t)$的$n$个二阶常微分方程，则给定$p \in M$及$v^a \in V_p$就是给定初始条件$x^\mu(0) = x^\mu|_p$及$(\diff x^\mu / \diff t)|_0 = v^a$，故有唯一解。
\end{proof}

\begin{theorem}
测地线的线长参数必为仿射参数。
\end{theorem}

众所周知，欧氏空间中两点之间直线（段）最短。
现在讨论这一结论在多大程度上适用于带洛伦兹度规的流形（时空）。

\begin{theorem}
设$g_{ab}$是流形$M$上的洛伦兹度规场，$p, q \in M$，则$p, q$间的光滑类空（类时）曲线为测地线当且仅当其线长取极值。
\end{theorem}

\begin{note}
\textcircled{1} 本定理也适用于$g_{ab}$为正定度规的情况（这时曲线的定语``类空（类时）''略去）。
\textcircled{2} 线长取极值的含义如下：设$C$是$p, q$间的类空（类时）曲线，则可对它做微小修改而得到$p, q$间的与$C$``无限邻近''的许多类空（类时）曲线。
上述定理断定$C$为测地线的充要条件是其长度在所有这些类空（类时）曲线的长度中取极值。
一元函数$f(x)$取极值的条件是一阶导数为零，然而上述定理涉及的长度$l$（看作``因变量''）相应的``自变量''不是实数而是曲线，关心的是从一条曲线变到另一曲线时$l$的变化，因此$l$不是一元函数而是泛函。
根据变分理论，$l$取极值的充要条件是$l$的变分$\delta l$为零。
\end{note}

一元函数$f(x)$的极值可为极小（其充分条件为$f'(x) = 0, f''(x) > 0$），也可为极大（其充分条件为$f'(x) = 0, f''(x) < 0$），还可为既非极小又非极大（其必要条件为$f'(x) = 0, f''(x) = 0$）。
与此类似，线长的极值也有上述三种可能，讨论如下。

先讨论$g_{ab}$为正定度规的情况。给定$p, q$之间的任一曲线，总可略加修改而得长度更大的曲线，故$p, q$间的曲线长度无极大可言。
设$C$是$p, q$间长度极小的一条曲线，由前述定理知它必为测地线。然而$p, q$间的测地线却未必长度极小，因为极值可以既非极小又非极大。
可以证明，测地线长度取极小值的充要条件是线上不存在共轭点对。欧氏空间当然没有共轭点对，因此两点之间直线（段）最短。

再讨论$g_{ab}$为洛伦兹度规的情况。先看闵氏时空这一最简单特例。
前已说过闵氏时空中直线与测地线同义。设$p, q$间有类时测地线$\gamma$相连，它是否为$p, q$间的最短线？
否。由于类光曲线长度为零，任一类时曲线$C$都不是最短线，因为总可对它略加修改而成为足够接近类光的类时曲线$C'$，其长度小于$C$。
事实上，类时测地线$\gamma$非但不是最短线，而且是$p, q$间的最长线。
以$2$维闵氏时空为例证明（容易推广至任意维闵氏时空）。
由于$\gamma$的参数式$x^\mu(t)$为线性函数，可通过洛伦兹坐标的平移和伪转动选择洛伦兹系$\{x^0, x^1\}$使其$x^0$坐标线与$\gamma$重合。
设$C$是$p, q$间的任一类时非测地线，用许多等$x^0$线把$\gamma$分成许多元段，由闵氏线元表达式可知$\gamma$和$C$的元段的线长依次为
\begin{gather*}
\diff l_\gamma = \sqrt{-\diff s^2} = \sqrt{-[-(\diff x^0)^2 + 0]} = \diff x^0 \\
\diff l_C = \sqrt{-[-(\diff x^0)^2 + (\diff x^1)^2]} < \diff x^0 = \diff l_\gamma
\end{gather*}
上述结果也适用于其他任一对元段，可见$l_\gamma > l_C$，即闵氏时空的类时测地线是最长类时线。
换句话说，闵氏时空中两点之间（类时）直线（段）最长。
又因为最长线必为测地线，所以对闵氏时空而言，两点间的类时线为最长线的充要条件是它为测地线。
再讨论一般时空，设$C$是$p, q$间长度极大的类时线，则由定理可知它是测地线。
然而反过来却未必，因为定理只保证$p, q$间的类时测地线长取极值，不保证它是极大（当然，由于类光曲线长度为零，它肯定也不是极小。）。
可以证明，任意时空中类时测地线长为极大的充要条件是线上不存在共轭点对。
小结：对任意时空中有类时联系的两点：
\textcircled{1} 两点间的最长线是类时测地线；
\textcircled{2} 两点间的类时测地线未必是最长线（对闵氏时空一定是）；
\textcircled{3} 两点间没有最短类时线。

\section{黎曼曲率张量}

\subsection{黎曼曲率的定义和性质}

导数算符$\nabla_a$的无挠性保证$(\nabla_a\nabla_b - \nabla_b\nabla_a)f = 0$，即$\nabla_a\nabla_bf$是个对称的$(0, 2)$型张量。


\subsection{由度规计算黎曼曲率}

\section{内禀曲率和外曲率}

